<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0"><xqdoc:control><xqdoc:date>2015-02-17T14:42:36.342765+02:00</xqdoc:date><xqdoc:version>1.0</xqdoc:version></xqdoc:control><xqdoc:module type="library"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>cloudsearch</xqdoc:name><xqdoc:comment><xqdoc:description> <p>This module offers functionality to search, add, update and remove documents in
 an Amazon CloudSearch domain.</p>
 <p>For each functionality two methods are provided
 <ul>
  <li>one which accepts a single $options parameter. In this case the default
      credentials for the "CloudSearch" category will be used to determine the
      CloudSearch endpoint to use.</li>
  <li>one which accepts both an $endpoint and an $options parameter.
      In this case, if the $endpoint parameter is of type string, it will be
      interpreted as the name of a credentials in the "CloudSearch" category.
      Otherwise, if the $endpoint parameter is of type anyURI, it will be
      interpreted as the endpoint URI.</li>
 </ul>
 </p>
 <h2 id="determinism">Important Notice Regarding Function Determinism</h2>
 <p>The search functions (<a href="#search-1">search#1</a> and
 <a href="#search-2">search#2</a>) are declared deterministic, which means that
 their results could be cached when invoked multiple times with the same arguments
 in the same query execution.</p>
 <p>To not use cached results you can use two alternative search functions
 (<a href="#search-nondeterministic-1">search-nondeterministic#1</a> and
 <a href="#search-nondeterministic-2">search-nondeterministic#2</a>), which have
 been declared as being non deterministic.</p>
 <h2 id="search-options">Search options</h2>
 <p>The search settings are specified by means of an object whose form
 is described in the following. The two most important fields are the
 "q" and "bq" fields. At least one of them must be specified. If the "bq"
 field is specified in conjunction with the "q" parameter, the values
 are joined with a top-level AND.
 <ul>
   <li>bq: one or more match expressions that define a Boolean search. Multiple
       expressions are joined with a top-level AND.
       <p>Type: string</p>
   </li>
   <li>q: the string to search for. You use the q parameter to perform simple text
       searches. This searches the default search field for the specified text.
       <p>Type: string</p>
   </li>
 </ul>
 </p>
 <p>Additional documentation on the format of the query and boolean query strings can
 be found at:
 <a href="http://docs.aws.amazon.com/cloudsearch/latest/developerguide/Search.Requests.html#Search.MatchSetExpression">
 Expression Syntax for Boolean Queries</a>.</p>
 <p>The following additional optional parameters can be specified.
 <ul>
   <li>facet: a comma-separated list of the fields for which you want to compute facets.
       The specified fields must be numeric fields or defined as facet enabled in the
       domain configuration.
       <p>Type: string</p>
   </li>
   <li>facet-<i>FIELD</i>-constraints: the field values (facet constraints) that
       you want to count for a particular field. FIELD is the name of the field.
       Constraints are specified as a comma-separated list of ranges or
       single-quoted strings. If you don't specify facet constraints, counts
       are computed for all field values.
       <p>Type: string</p>
   </li>
   <li>facet-<i>FIELD</i>-sort: how you want to sort facet values for a
       particular field. FIELD is the name of the field. There are four sorting options:
       <ul>
         <li>alpha: Sort the facet values alphabetically (in ascending order).</li>
         <li>count: Sort the facet values by their counts (in descending order).</li>
         <li>max: Sort the facet values according to the maximum values in the specified
             field. This option is specified as <code>max(FIELD)</code>. By default, the
             facet values are sorted in ascending order. To sort in descending order,
             prefix the sort option with - (minus): <code>-max(FIELD)</code>.
         </li>
         <li>sum: Sort the facet values according to the sum of the values in the
             specified field (in ascending order). This option is specified as
             <code>sum(FIELD)</code>.
         </li>
       </ul>
   </li>
   <li>facet-<i>FIELD</i>-top-n: set the maximum number of facet constraints to
       be included for the specified field in the search results. By default,
       the results include counts for the top 40 constraints.
        <p>Type: integer</p>
   </li>
   <li>no-cache: if false, a cached result can be returned. If true, a revalidation of the
        results is forced. Default is false.
        <p>Type: boolean</p>
   </li>
   <li>rank: a comma-separated list of fields or rank expressions to use for ranking. A
        maximum of 10 fields and rank expressions can be specified. You can use any uint
        field to rank results numerically. Any result-enabled text or literal field can be
        used to rank results alphabetically. To rank results by relevance, you can specify
        the name of a custom rank expression or text_relevance. Hits are ordered according
        to the specified rank field(s). By default, hits are ranked in ascending order.
        <p>You can prefix a field name with a minus (-) to rank in descending order. If no
        rank parameter is specified, it defaults to <code>rank=-text_relevance</code>, which
        lists results according to their text_relevance scores with the highest-scoring
        documents first.</p>
       <p>Type: string</p>
   </li>
   <li>rank-<i>RANKNAME</i>: define a rank expression that can be used with the
       rank parameter. You can also specify the new rank expression as a return
       field and use it to set thresholds for the search results with the
       t-<i>FIELD</i> parameter. For more information about constructing
       rank expressions, see
       <a href="http://docs.aws.amazon.com/cloudsearch/latest/developerguide/tuneranking.html">
       Customizing Result Ranking with Amazon CloudSearch</a>.
       <p>Type: string</p>
   </li>
   <li>return-fields: the document fields to include in the response. Up to 2 KB
       of data can be returned from a text field. If the field contents exceed
       2 KB, only the first 2 KB is included in the results. Specified as a
       comma-separated list of field names. If no return-fields are specified,
       only the document ids of the hits are returned.
       <p>Type: string</p>
   </li>
   <li>size: the maximum number of search hits to return. The default is 10.
       <p>Type: integer</p>
   </li>
   <li>start: the offset of the first search hit you want to return. The default is 0
       (the first hit).
       <p>Type: integer</p>
   </li>
   <li>t-<i>FIELD</i>: restrict the match set used in subsequent post-processing
       steps according to the specified rank expression. Only hits that have a
       score within the specified range are included. Ranges are specified as
       described in
       <a href="http://docs.aws.amazon.com/cloudsearch/latest/developerguide/Search.Requests.html#Search.MatchSetExpression">
       Expression Syntax for Boolean Queries</a>.
       <p>Type: integer</p>
   </li>
 </ul>
 For additional details on the search parameters you can refer to the
 <a href="http://docs.aws.amazon.com/cloudsearch/latest/developerguide/Search.Requests.html">
 Amazon CloudSearch search requests documentation</a>.</p>
 <h2 id="search-results">Search Results</h2>
 <p>The format of the returned object is the following:
 <pre>
 {
   "rank" : "-text_relevance",
   "match-expr" : "(label 'star wars')",
   "hits" :
   {
     "found" : 2,
     "start" : 0,
     "hit" :
     [
       {
         "id" : "tt1185834",
         "data" :
         {
           "actor" : ["Abercrombie, Ian","Baker, Dee","Burton, Corey"],
           "title" : ["Star Wars: The Clone Wars"]
         }
       },
       {
         "id" :"tt0121766",
         "data" :
         {
           "actor" : ["Bai, Ling","Bryant, Gene","Castle-Hughes, Keisha"],
           "title" : ["Star Wars: Episode III - Revenge of the Sith"]
         }
       }
     ]
   },
   "info" :
   {
     "rid" : "b7c167f6c2da6d93531b9a7b314ad030b3a74803b4b7797edb905ba5a6a08",
     "time-ms" : 2,
     "cpu-time-ms" : 0
   }
 }
 </pre>
 </p>
 <p>The returned object fields have the following meaning:
 <ul>
   <li>match-expr: Shows the match expression constructed from the search
       parameters.</li>
   <li>hits: Contains hit statistics (found, start) and a hit array that lists
       the document ids and data for each hit.</li>
   <li>found: The total number of hits that match the search request after
       Amazon CloudSearch finished processing the match set.</li>
   <li>start: The index of the first hit returned in this response.</li>
   <li>hit: An array that lists the document ids and data for each hit.</li>
   <li>id: The unique identifier for a document.</li>
   <li>data: A list of returned fields.</li>
   <li>facets: Contains facet information and facet counts.</li>
   <li><i>FacetFieldName</i>: A field for which facets were calculated.</li>
   <li>constraints: An array of the facet values and counts.</li>
   <li>value: The facet value being counted.</li>
   <li>count: The number of hits that contain the facet value in <i>FacetFieldName</i>.
       </li>
   <li>info: Contains information about the request processing.</li>
   <li>rank: Lists the fields that were used to rank the search hits.</li>
   <li>rid: The encrypted Resource ID.</li>
   <li>time-ms: How long it took to process the search request in milliseconds.
       </li>
   <li>cpu-time-ms: The CPU time required to process the search request in
       milliseconds.</li>
   <li>messages: Contains any error messages returned by the search service.
       The severity, code, and message properties are included for each item.</li>
   <li>severity: The severity of the message. It is always warning, which indicates
       a problem with the query string that did not prevent the request from being
       processed.</li>
   <li>code: The error code. The search service returns the following error codes:
     <ul>
       <li>CS-InvalidFieldOrRankAliasInRankParameter: the specified ranking field
           could not be found.</li>
       <li>CS-RankExpressionParseError: one of the specified rank expressions could
           not be parsed. No query-time rank expressions will be used. </li>
       <li>CS-RankExpressionValidationError: one of the specified rank expressions
           could not be validated. No query-time rank expressions will be used.</li>
       <li>CS-UndefinedField: an unknown field was specified in the match
           expression.</li>
       <li>CS-UnknownFieldInMatchExpression: a field specified in the bq parameter
           could not be found.</li>
       <li>CS-WildcardTermLimit: more than 2000 terms matched the wildcard in the
           search request. The number of terms matched was limited to 2000.</li>
     </ul>
   </li>
   <li>message: A description of the error that was returned by the search service.</li>
 </ul>
 </p>
</xqdoc:description><xqdoc:author>Federico Cavalieri</xqdoc:author><xqdoc:custom tag="language">jsoniq</xqdoc:custom><xqdoc:custom tag="version">1.0</xqdoc:custom><xqdoc:custom tag="encoding">utf-8</xqdoc:custom></xqdoc:comment><xqdoc:custom tag="namespaces"><xqdoc:namespace prefix="an" uri="http://zorba.io/annotations" isSchema="false"/><xqdoc:namespace prefix="cloudsearch" uri="http://www.28msec.com/modules/cloudsearch" isSchema="false"/><xqdoc:namespace prefix="credentials" uri="http://www.28msec.com/modules/credentials" isSchema="false"/><xqdoc:namespace prefix="http" uri="http://zorba.io/modules/http-client" isSchema="false"/></xqdoc:custom></xqdoc:module><xqdoc:imports><xqdoc:import type="library"><xqdoc:uri>http://zorba.io/modules/http-client</xqdoc:uri></xqdoc:import><xqdoc:import type="library"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri></xqdoc:import></xqdoc:imports><xqdoc:variables><xqdoc:variable><xqdoc:uri>cloudsearch:api-version</xqdoc:uri><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations></xqdoc:variable><xqdoc:variable><xqdoc:uri>cloudsearch:credentials-category</xqdoc:uri><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations></xqdoc:variable><xqdoc:variable><xqdoc:uri>cloudsearch:search-kind</xqdoc:uri><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations></xqdoc:variable><xqdoc:variable><xqdoc:uri>cloudsearch:doc-kind</xqdoc:uri><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations></xqdoc:variable></xqdoc:variables><xqdoc:collections/><xqdoc:indexes/><xqdoc:functions><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Adds or replaces a document in the specified Amazon CloudSearch domain.</p>
 <p>An add operation is applied only if a document with the same id is not
 present or if the version number specified in the operation is greater than
 the existing document's version number.</p>
 <p>The document to add or replace is specified through an object with
 the following form:
 <pre>
 {
   "id" : "tt0484562",
   "version" : 1,
   "lang" : "en",
   "fields" :
   {
     "title" : "The Seeker: The Dark Is Rising",
     "genre" : ["Adventure","Drama","Fantasy","Thriller"]
   }
 }
 </pre>
 </p>
 <p>Specifically, the fields in the request object have the following meaning:
 <ul>
   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.
       Document IDs cannot begin with an underscore. The max length is 128
       characters.</li>
   <li>version: Any non-negative number less than 2^32.</li>
   <li>lang: An ISO-639-1 two-letter language code.</li>
   <li>fields: An object containing one or more fields. Each field specifies
       a field within the document being added. Field names must begin with a
       lowercase letter and can contain the following characters: a-z, 0-9,
       and _. Field names must be at least 3 and no more than 64 characters.
       The names "body", "docid", and "text_relevance" are reserved names and
       cannot be used as field names. To specify multiple values for a field,
       you can specify an array of values instead of a single value.</li>
 </ul>
 </p>
 <p>The returned object lists all warnings that were generated.
 <pre>
 {
   "status" : "success",
   "warning" :
   [
     {"message" : "Warning message."}
   ]
 }
 </pre>
 </p>
 <p>Specifically, the fields in the response object have the following meaning:
 <ul>
   <li>status: the result status, always "success". In case an error occurred
       processing the request, an error is raised.</li>
   <li>warning: provides information about warnings generated during parsing
       or validation. The field is not present if no warning were generated.</li>
 </ul>
 </p>
 <p>Example, specifying endpoint URI:
 <pre>
 cloudsearch:add-document(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 {
   "id" : "tt0484562",
   "version" : 1,
   "lang" : "en",
   "fields" :
   {
     "title" : "The Seeker: The Dark Is Rising",
     "genre" : ["Adventure","Drama","Fantasy","Thriller"]
   }
 });
 </pre>
 </p>
 <p>Example, using stored credentials:
 <pre>
 cloudsearch:add-document("movies",
 {
   "id" : "tt0484562",
   "version" : 1,
   "lang" : "en",
   "fields" :
   {
     "title" : "The Seeker: The Dark Is Rising",
     "genre" : ["Adventure","Drama","Fantasy","Thriller"]
   }
 });
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$endpoint The endpoint URI or the name of a stored CloudSearch credentials</xqdoc:param><xqdoc:param>$options An object specifying the request options</xqdoc:param><xqdoc:return>The request response</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error></xqdoc:comment><xqdoc:name>cloudsearch:add-document</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function cloudsearch:add-document($endpoint as atomic, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>atomic</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>add-document-impl</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Adds or replaces a document in the default Amazon CloudSearch domain.</p>
 <p>An add operation is applied only if a document with the same id is not
 present or if the version number specified in the operation is greater than
 the existing document's version number.</p>
 <p>The document to add or replace is specified through an object with
 the following form:
 <pre>
 {
   "id" : "tt0484562",
   "version" : 1,
   "lang" : "en",
   "fields" :
   {
     "title" : "The Seeker: The Dark Is Rising",
     "genre" : ["Adventure","Drama","Fantasy","Thriller"]
   }
 }
 </pre>
 </p>
 <p>Specifically, the fields in the request object have the following meaning:
 <ul>
   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.
       Document IDs cannot begin with an underscore. The max length is 128
       characters.</li>
   <li>version: Any non-negative number less than 2^32.</li>
   <li>lang: An ISO-639-1 two-letter language code.</li>
   <li>fields: An object containing one or more fields. Each field specifies
       a field within the document being added. Field names must begin with a
       lowercase letter and can contain the following characters: a-z, 0-9,
       and _. Field names must be at least 3 and no more than 64 characters.
       The names "body", "docid", and "text_relevance" are reserved names and
       cannot be used as field names. To specify multiple values for a field,
       you can specify an array of values instead of a single value.</li>
 </ul>
 </p>
 <p>The returned object lists all warnings that were generated.
 <pre>
 {
   "status" : "success",
   "warning" :
   [
     {"message" : "Warning message."}
   ]
 }
 </pre>
 </p>
 <p>Specifically, the fields in the response object have the following meaning:
 <ul>
   <li>status: the result status, always "success". In case an error occurred
       processing the request, an error is raised.</li>
   <li>warning: provides information about warnings generated during parsing
       or validation. The field is not present if no warning were generated.</li>
 </ul>
 </p>
 <p>Example, specifying endpoint URI:
 <pre>
 cloudsearch:add-document(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 {
   "id" : "tt0484562",
   "version" : 1,
   "lang" : "en",
   "fields" :
   {
     "title" : "The Seeker: The Dark Is Rising",
     "genre" : ["Adventure","Drama","Fantasy","Thriller"]
   }
 });
 </pre>
 </p>
 <p>Example, using stored credentials:
 <pre>
 cloudsearch:add-document("movies",
 {
   "id" : "tt0484562",
   "version" : 1,
   "lang" : "en",
   "fields" :
   {
     "title" : "The Seeker: The Dark Is Rising",
     "genre" : ["Adventure","Drama","Fantasy","Thriller"]
   }
 });
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$options An object specifying the request options</xqdoc:param><xqdoc:return>The request response</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error></xqdoc:comment><xqdoc:name>cloudsearch:add-document</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function cloudsearch:add-document($options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>add-document-impl</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Deletes a document from the specified Amazon CloudSearch domain.</p>
 <p>A delete operation is only applied to an existing document if the
 version number specified in the operation is greater than the existing
 document's version number.</p>
 <p>The document to remove is specified through an object with the
 following form:
 <pre>
 {
   "id" : "tt0484562",
   "version" : 2
 }
 </pre>
 </p>
 <p>Specifically, the fields in the request object have the following meaning:
 <ul>
   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.
       Document IDs cannot begin with an underscore. The max length is 128
       characters.</li>
   <li>version: Any non-negative number less than 2^32.</li>
 </ul>
 </p>
 <p>The response body lists any warning that was generated.
 <pre>
 {
   "status" : "success",
   "warning" :
   [
     {"message" : "Warning message."}
   ]
 }
 </pre>
 </p>
 <p>Specifically, the fields in the response object have the following meaning:
 <ul>
   <li>status: the result status, always "success". In case of errors an error is
       raised.</li>
   <li>warning: provides information about a warning generated during parsing or
       validation. The field is not present if no warning was generated.</li>
 </ul>
 </p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:delete-document(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 {
   "id" : "tt0484562",
   "version" : 2
 });
 </pre>
 </p>
 <p>Example, using specified stored endpoing:
 <pre>
 cloudsearch:delete-document("movies",
 {
   "id" : "tt0484562",
   "version" : 2
 });
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$endpoint The endpoint URI or the name of a stored CloudSearch credentials</xqdoc:param><xqdoc:param>$options An object specifying the request options</xqdoc:param><xqdoc:return>The request response</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error></xqdoc:comment><xqdoc:name>cloudsearch:delete-document</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function cloudsearch:delete-document($endpoint as atomic, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>atomic</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>delete-document-impl</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Deletes a document from the default Amazon CloudSearch domain.</p>
 <p>A delete operation is only applied to an existing document if the
 version number specified in the operation is greater than the existing
 document's version number.</p>
 <p>The document to remove is specified through an object with the
 following form:
 <pre>
 {
   "id" : "tt0484562",
   "version" : 2
 }
 </pre>
 </p>
 <p>Specifically, the fields in the request object have the following meaning:
 <ul>
   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.
       Document IDs cannot begin with an underscore. The max length is 128
       characters.</li>
   <li>version: Any non-negative number less than 2^32.</li>
 </ul>
 </p>
 <p>The response body lists any warning that was generated.
 <pre>
 {
   "status" : "success",
   "warning" :
   [
     {"message" : "Warning message."}
   ]
 }
 </pre>
 </p>
 <p>Specifically, the fields in the response object have the following meaning:
 <ul>
   <li>status: the result status, always "success". In case of errors an error is
       raised.</li>
   <li>warning: provides information about a warning generated during parsing or
       validation. The field is not present if no warning was generated.</li>
 </ul>
 </p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:delete-document(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 {
   "id" : "tt0484562",
   "version" : 2
 });
 </pre>
 </p>
 <p>Example, using specified stored endpoing:
 <pre>
 cloudsearch:delete-document("movies",
 {
   "id" : "tt0484562",
   "version" : 2
 });
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$options An object specifying the request options</xqdoc:param><xqdoc:return>The request response</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error></xqdoc:comment><xqdoc:name>cloudsearch:delete-document</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function cloudsearch:delete-document($options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>delete-document-impl</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Adds, replaces or removes one or more documents from the specified Amazon
 CloudSearch domain.</p>
 <p>An add or delete operation is only applied to an existing document if the
 version number specified in the operation is greater than the existing document
 version number.
 If multiple add or delete operations for the same document are specified, the
 operation with the highest version number is applied. If multiple operations in
 a batch specify the same document and version number, the document service
 arbitrarily picks which one to apply.</p>
 <p>The documents to add, replace or delete can be specified through an array with
 the following form:
 <pre>
 [
   {
     "type" : "add",
     "id" :   "tt0484562",
     "version" : 1,
     "lang" : "en",
     "fields" :
     {
       "title" : "The Seeker: The Dark Is Rising",
       "genre" : ["Adventure","Drama","Fantasy","Thriller"],
     }
   },
   {
     "type" : "delete",
     "id" :   "tt0484575",
     "version" : 2
   }
 ]
 </pre>
 </p>
 <p>Specifically, the fields in the request array have the following meaning:
 <ul>
   <li>type: The operation type, "add" or "delete".</li>
   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.
       Document IDs cannot begin with an underscore. The max length is 128
       characters.</li>
   <li>version: Any non-negative number less than 2^32.</li>
   <li>lang: An ISO-639-1 two-letter language code.</li>
   <li>fields: An object containing one or more fields. Each field specifies
       a field within the document being added. Field names must begin with a
       lowercase letter and can contain the following characters: a-z, 0-9,
       and _. Field names must be at least 3 and no more than 64 characters.
       The names "body", "docid", and "text_relevance" are reserved names and
       cannot be used as field names. To specify multiple values for a field,
       you can specify an array of values instead of a single value.</li>
 </ul>
 </p>
 <p>The response body lists any warning that was generated.
 <pre>
 {
   "status" : "success",
   "adds" : 1,
   "deletes: 1,
   "warning" :
   [
     {"message" : "Warning message."}
   ]
 }
 </pre>
 </p>
 <p>Specifically, the fields in the response object have the following meaning:
 <ul>
   <li>status: the result status, which is either success or error.</li>
   <li>adds: the number of add document operations that were performed.</li>
   <li>deletes: the number of delete document operations that were performed.</li>
   <li>warning: provides information about a warning generated during parsing
       or validation. The field is not present if no warning was generated.</li>
 </ul>
 </p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:batch-document(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 [
   {
     "type" : "add",
     "id" :   "tt0484562",
     "version" : 1,
     "lang" : "en",
     "fields" :
     {
       "title" : "The Seeker: The Dark Is Rising",
       "genre" : ["Adventure","Drama","Fantasy","Thriller"],
     }
   },
   {
     "type" : "delete",
     "id" :   "tt0484575",
     "version" : 2
   }
 ]);
 </pre>
 </p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:batch-document("movies",
 [
   {
     "type" : "add",
     "id" :   "tt0484562",
     "version" : 1,
     "lang" : "en",
     "fields" :
     {
       "title" : "The Seeker: The Dark Is Rising",
       "genre" : ["Adventure","Drama","Fantasy","Thriller"],
     }
   },
   {
     "type" : "delete",
     "id" :   "tt0484575",
     "version" : 2
   }
 ]);
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$endpoint The endpoint URI or the name of a stored CloudSearch credentials</xqdoc:param><xqdoc:param>$options An object specifying the request options</xqdoc:param><xqdoc:return>The request response</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error></xqdoc:comment><xqdoc:name>cloudsearch:batch-document</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function cloudsearch:batch-document($endpoint as atomic, $options as array()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>atomic</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>array()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>batch-document-impl</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Adds, replaces or removes one or more documents from the default Amazon
 CloudSearch domain.</p>
 <p>An add or delete operation is only applied to an existing document if the
 version number specified in the operation is greater than the existing document
 version number.
 If multiple add or delete operations for the same document are specified, the
 operation with the highest version number is applied. If multiple operations in
 a batch specify the same document and version number, the document service
 arbitrarily picks which one to apply.</p>
 <p>The documents to add, replace or delete can be specified through an array with
 the following form:
 <pre>
 [
   {
     "type" : "add",
     "id" :   "tt0484562",
     "version" : 1,
     "lang" : "en",
     "fields" :
     {
       "title" : "The Seeker: The Dark Is Rising",
       "genre" : ["Adventure","Drama","Fantasy","Thriller"],
     }
   },
   {
     "type" : "delete",
     "id" :   "tt0484575",
     "version" : 2
   }
 ]
 </pre>
 </p>
 <p>Specifically, the fields in the request array have the following meaning:
 <ul>
   <li>type: The operation type, "add" or "delete".</li>
   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.
       Document IDs cannot begin with an underscore. The max length is 128
       characters.</li>
   <li>version: Any non-negative number less than 2^32.</li>
   <li>lang: An ISO-639-1 two-letter language code.</li>
   <li>fields: An object containing one or more fields. Each field specifies
       a field within the document being added. Field names must begin with a
       lowercase letter and can contain the following characters: a-z, 0-9,
       and _. Field names must be at least 3 and no more than 64 characters.
       The names "body", "docid", and "text_relevance" are reserved names and
       cannot be used as field names. To specify multiple values for a field,
       you can specify an array of values instead of a single value.</li>
 </ul>
 </p>
 <p>The response body lists any warning that was generated.
 <pre>
 {
   "status" : "success",
   "adds" : 1,
   "deletes: 1,
   "warning" :
   [
     {"message" : "Warning message."}
   ]
 }
 </pre>
 </p>
 <p>Specifically, the fields in the response object have the following meaning:
 <ul>
   <li>status: the result status, which is either success or error.</li>
   <li>adds: the number of add document operations that were performed.</li>
   <li>deletes: the number of delete document operations that were performed.</li>
   <li>warning: provides information about a warning generated during parsing
       or validation. The field is not present if no warning was generated.</li>
 </ul>
 </p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:batch-document(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 [
   {
     "type" : "add",
     "id" :   "tt0484562",
     "version" : 1,
     "lang" : "en",
     "fields" :
     {
       "title" : "The Seeker: The Dark Is Rising",
       "genre" : ["Adventure","Drama","Fantasy","Thriller"],
     }
   },
   {
     "type" : "delete",
     "id" :   "tt0484575",
     "version" : 2
   }
 ]);
 </pre>
 </p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:batch-document("movies",
 [
   {
     "type" : "add",
     "id" :   "tt0484562",
     "version" : 1,
     "lang" : "en",
     "fields" :
     {
       "title" : "The Seeker: The Dark Is Rising",
       "genre" : ["Adventure","Drama","Fantasy","Thriller"],
     }
   },
   {
     "type" : "delete",
     "id" :   "tt0484575",
     "version" : 2
   }
 ]);
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$options An object specifying the request options</xqdoc:param><xqdoc:return>The request response</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error></xqdoc:comment><xqdoc:name>cloudsearch:batch-document</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function cloudsearch:batch-document($options as array()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>array()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>batch-document-impl</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Searches the documents in the default Amazon CloudSearch domain.</p>
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>The format of the <a href="search-options">search options</a> object and
 of the <a href="search-results">search results</a> object is documented in
 the module introduction.</p>
 <p>Example:
 <pre>
 cloudsearch:search({"q" : "star+wars", "return-fields" : "title"})
 </pre>
 </p>
 <p>Example returned object:
 <pre>
 {
   "rank" : "-text_relevance",
   "match-expr" : "(label 'star wars')",
   "hits" :
   {
     "found" : 2,
     "start" : 0,
     "hit" :
     [
       {
         "id" : "tt1185834",
         "data" :
         {
           "actor" : ["Abercrombie, Ian","Baker, Dee","Burton, Corey"],
           "title" : ["Star Wars: The Clone Wars"]
         }
       },
       {
         "id" :"tt0121766",
         "data" :
         {
           "actor" : ["Bai, Ling","Bryant, Gene","Castle-Hughes, Keisha"],
           "title" : ["Star Wars: Episode III - Revenge of the Sith"]
         }
       }
     ]
   },
   "info" :
   {
     "rid" : "b7c167f6c2da6d93531b9a7b314ad030b3a74803b4b7797edb905ba5a6a08",
     "time-ms" : 2,
     "cpu-time-ms" : 0
   }
 }
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$options The <a href="search-options">search options</a> object</xqdoc:param><xqdoc:return>The <a href="search-results">search results</a> object</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see><xqdoc:see><a href="#search-options">Search options documentation</a></xqdoc:see><xqdoc:see><a href="#search-results">Search results documentation</a></xqdoc:see></xqdoc:comment><xqdoc:name>cloudsearch:search</xqdoc:name><xqdoc:signature>declare function cloudsearch:search($options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>search-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>send-deterministic-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Searches the documents in the default Amazon CloudSearch domain.</p>
 <p>This function has the same semantics as <a href="#search-1">search#1</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$options The <a href="#search-options">search options</a> object</xqdoc:param><xqdoc:return>The <a href="#search-results">search results</a> object</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see><xqdoc:see><a href="#search-1">search#1 documentation</a></xqdoc:see><xqdoc:see><a href="#search-options">Search options documentation</a></xqdoc:see><xqdoc:see><a href="#search-results">Search results documentation</a></xqdoc:see></xqdoc:comment><xqdoc:name>cloudsearch:search-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function cloudsearch:search-nondeterministic($options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>search-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>send-nondeterministic-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Searches the documents in the specified Amazon CloudSearch domain.</p>
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>The format of the <a href="search-options">search options</a> object and
 of the <a href="search-results">search results</a> object is documented in
 the module introduction.</p>
 <p>The following examples performs a simple text search for all documents
 containing both the word "star" and "trek" and returns the matching document
 title field.</p>
 <p>Example, using specified endpoint URI:
 <pre>
 cloudsearch:search(
 anyURI("http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com"),
 {"q" : "star+wars", "return-fields" : "title"})
 </pre>
 </p>
 <p>Example, using a stored endpoint:
 <pre>
 cloudsearch:search("movies",
 {"q" : "star+wars", "return-fields" : "title"})
 </pre>
 </p>
</xqdoc:description><xqdoc:param>$endpoint The endpoint URI or the name of a stored CloudSearch credentials</xqdoc:param><xqdoc:param>$options The <a href="search-options">search options</a> object</xqdoc:param><xqdoc:return>The <a href="search-results">search results</a> object</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see><xqdoc:see><a href="#search-options">Search options documentation</a></xqdoc:see><xqdoc:see><a href="#search-results">Search results documentation</a></xqdoc:see></xqdoc:comment><xqdoc:name>cloudsearch:search</xqdoc:name><xqdoc:signature>declare function cloudsearch:search($endpoint as atomic, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>atomic</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>search-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>send-deterministic-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Searches the documents in the specified Amazon CloudSearch domain.</p>
 <p>This function has the same semantics as <a href="#search-2">search#2</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$endpoint The endpoint URI or the name of a stored CloudSearch credentials</xqdoc:param><xqdoc:param>$options The <a href="search-options">search options</a> object</xqdoc:param><xqdoc:return>The <a href="search-results">search results</a> object</xqdoc:return><xqdoc:error>cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error><xqdoc:error>cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error><xqdoc:error>cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error><xqdoc:error>cloudsearch:REQUEST if the request is malformed</xqdoc:error><xqdoc:error>cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error><xqdoc:error>cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see><xqdoc:see><a href="#search-1">search#1 documentation</a></xqdoc:see><xqdoc:see><a href="#search-options">Search options documentation</a></xqdoc:see><xqdoc:see><a href="#search-results">Search results documentation</a></xqdoc:see></xqdoc:comment><xqdoc:name>cloudsearch:search-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function cloudsearch:search-nondeterministic($endpoint as atomic, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>atomic</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>endpoint</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>search-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>send-nondeterministic-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:add-document-impl</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential %private function cloudsearch:add-document-impl($endpoint as string, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>document-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>integer-field</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>object-field</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>string-field</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>keys</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>serialize</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri></xqdoc:uri><xqdoc:name>project</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:delete-document-impl</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential %private function cloudsearch:delete-document-impl($endpoint as string, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>document-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>integer-field</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>string-field</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>keys</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>serialize</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri></xqdoc:uri><xqdoc:name>project</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:batch-document-impl</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential %private function cloudsearch:batch-document-impl($endpoint as string, $options as array()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>array()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>document-request</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>serialize</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:search-request</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:search-request($endpoint as string, $options as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>query-arguments</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:query-arguments</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:query-arguments($options as object()) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>encode-for-uri</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>string</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>string-join</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri></xqdoc:uri><xqdoc:name>keys</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:send-request</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %private %an:sequential function cloudsearch:send-request($request as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>request</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>handle-response</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/http-client</xqdoc:uri><xqdoc:name>send-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:send-nondeterministic-request</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic %private function cloudsearch:send-nondeterministic-request($request as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>request</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>handle-response</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/http-client</xqdoc:uri><xqdoc:name>send-nondeterministic-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:send-deterministic-request</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:send-deterministic-request($request as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>request</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>handle-response</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/http-client</xqdoc:uri><xqdoc:name>send-deterministic-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:handle-response</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:handle-response($response as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>response</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>search-error-messages</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>parse-json</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:search-error-messages</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:search-error-messages($response as object()) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>response</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>parse-json</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>string-join</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:document-request</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential %private function cloudsearch:document-request($request as object()) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>request</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>document-error-messages</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>parse-json</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>serialize</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/http-client</xqdoc:uri><xqdoc:name>send-request</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:document-error-messages</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:document-error-messages($response as object()) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>response</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>parse-json</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>string-join</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:integer-field</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:integer-field($obj as object(), $field-name as string) as integer</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>obj</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>field-name</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>integer</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:string-field</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:string-field($obj as object(), $field-name as string) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>obj</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>field-name</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:object-field</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:object-field($obj as object(), $field-name as string) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>obj</xqdoc:name><xqdoc:type>object()</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>field-name</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:endpoint</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:endpoint($endpoint as atomic, $kind as string) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type>atomic</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>kind</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>validate-endpoint</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:name>cloudsearch:endpoint</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:endpoint($kind as string) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>kind</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/cloudsearch</xqdoc:uri><xqdoc:name>validate-endpoint</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>cloudsearch:validate-endpoint</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function cloudsearch:validate-endpoint($endpoint as item()?, $kind as string) as string</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>endpoint</xqdoc:name><xqdoc:type occurrence="?">item()</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>kind</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>string</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>ends-with</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>matches</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>string-length</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>substring</xqdoc:name></xqdoc:invoked></xqdoc:function></xqdoc:functions></xqdoc:xqdoc>