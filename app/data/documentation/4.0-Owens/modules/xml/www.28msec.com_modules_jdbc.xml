<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0"><xqdoc:control><xqdoc:date>2015-02-17T14:42:36.342765+02:00</xqdoc:date><xqdoc:version>1.0</xqdoc:version></xqdoc:control><xqdoc:module type="library"><xqdoc:uri>http://www.28msec.com/modules/jdbc</xqdoc:uri><xqdoc:name>jdbc</xqdoc:name><xqdoc:comment><xqdoc:description> This module allows connecting, querying, and updating JDBC datasources.
 <p>The results of a query are returned as a sequence of objects:
 <code> { column: value } </code>.
 The type of the value depends on the type of the column in the database:
 <table class="table table-bordered">
   <tr><th>JDBC Types</th><th>JSONiq Type</th></tr>
   <tr><td>integer, bigint, smallint, tinyint</td><td>integer</td></tr>
   <tr><td>decimal, double, float, numeric, real</td><td>double</td></tr>
   <tr><td>boolean, bit</td><td>boolean</td></tr>
   <tr><td>char, blob, longvarchar, longnvarchar, nchar, nclob, nvarchar,
  varchar, sqlxml, date, time, timestamp</td><td>string</td></tr>
   <tr><td>binary, blob, longvarbinary, varbinary, array, datalink,
  java_object, other, ref</td><td>base64Binary</td></tr>
 </table>
 </p>
 <p>
 If the value of a column is null, it is mapped to the JSONiq null value.
 </p>
 <p>Connecting to a JDBC source requires the following options:
 <ul>
   <li><tt>url</tt>: the JDBC connection URI (mandatory)</li>
   <li><tt>user</tt>: the user used for connecting (optional)</li>
   <li><tt>password</tt>: the password used for connecting (optional)</li>
 </ul></p>
 <p>Examples:
 <ul>
  <li><pre>
 {
   "url" : "jdbc:mysql://localhost/testdb",
   "user" : "root",
   "password" : ""
 }</pre></li>
  <li><pre>
 {
   "url" : "jdbc:sqlserver://192.168.1.1;databaseName=testdb",
   "user" : "sa",
   "password" : ""
 }</pre></li>
  <li><pre>
 {
   "url" : "jdbc:postgresql://localhost/testdb",
   "user" : "root",
   "password" : ""
 }</pre></li>
 </ul></p>
 <p>Currently, the 28.io platform supports connections to
 <ul>
   <li>MySQL using the mariadb-java-client.jar version 1.1.2,</li>
   <li>PostgreSQL using postgresql.jar version 9.2, and </li>
   <li>Microsoft SQL Server using sqljdbc4.jar version 4.0.</li>
 </ul>
 </p>
 <p>If you are interested in connecting to other JDBC datasources,
 please contact us at support@28.io.</p>
 <h2 id="determinism">Important Notice Regarding Function Determinism</h2>
 <p>The non side-effecting functions:
 <ul>
   <li><a href="#connect-0">connect#0</a></li>
   <li><a href="#connect-1">connect#1</a></li>
   <li><a href="#connect-2">connect#2</a></li>
   <li><a href="#execute-query-2">execute-query#2</a></li>
   <li><a href="#execute-query-prepared-1">execute-query-prepared#1</a></li>
   <li><a href="#tables-1">tables#1</a></li>
   <li><a href="#tables-4">tables#4</a></li>
 </ul>
 are declared deterministic, which means that their results could be cached
 when invoked multiple times with the same arguments in the same query execution.</p>
 <p>To not use cached results you can use the following alternative functions:
 <ul>
   <li><a href="#connect-notdeterministic-0">connect-notdeterministic#0</a></li>
   <li><a href="#connect-notdeterministic-1">connect-notdeterministic#1</a></li>
   <li><a href="#connect-notdeterministic-2">connect-notdeterministic#2</a></li>
   <li><a href="#execute-query-notdeterministic-2">execute-query-notdeterministic#2</a></li>
   <li><a href="#execute-query-prepared-notdeterministic-1">execute-query-prepared-notdeterministic#1</a></li>
   <li><a href="#tables-notdeterministic-1">tables-notdeterministic#1</a></li>
   <li><a href="#tables-notdeterministic-4">tables-notdeterministic#4</a></li>
 </ul>
 which have been declared as being non deterministic.</p>
</xqdoc:description><xqdoc:author>Cristi Dumitru</xqdoc:author><xqdoc:author>Federico Cavalieri</xqdoc:author><xqdoc:custom tag="language">jsoniq</xqdoc:custom><xqdoc:custom tag="version">1.0</xqdoc:custom><xqdoc:custom tag="encoding">utf-8</xqdoc:custom></xqdoc:comment><xqdoc:custom tag="namespaces"><xqdoc:namespace prefix="an" uri="http://zorba.io/annotations" isSchema="false"/><xqdoc:namespace prefix="credentials" uri="http://www.28msec.com/modules/credentials" isSchema="false"/><xqdoc:namespace prefix="jdbc" uri="http://www.28msec.com/modules/jdbc" isSchema="false"/><xqdoc:namespace prefix="ver" uri="http://zorba.io/options/versioning" isSchema="false"/><xqdoc:namespace prefix="zjdbc" uri="http://www.zorba-xquery.com/modules/jdbc" isSchema="false"/></xqdoc:custom></xqdoc:module><xqdoc:imports><xqdoc:import type="library"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri></xqdoc:import><xqdoc:import type="library"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri></xqdoc:import></xqdoc:imports><xqdoc:variables><xqdoc:variable><xqdoc:uri>jdbc:READ-COMMITTED</xqdoc:uri><xqdoc:comment><xqdoc:description> This variable represents the READ-COMMITTED Isolation Level.
</xqdoc:description></xqdoc:comment></xqdoc:variable><xqdoc:variable><xqdoc:uri>jdbc:READ-UNCOMMITTED</xqdoc:uri><xqdoc:comment><xqdoc:description> This variable represents the READ-UNCOMMITTED Isolation Level.
</xqdoc:description></xqdoc:comment></xqdoc:variable><xqdoc:variable><xqdoc:uri>jdbc:REPEATABLE-READ</xqdoc:uri><xqdoc:comment><xqdoc:description> This variable represents the REPEATABLE-READ Isolation Levels.
</xqdoc:description></xqdoc:comment></xqdoc:variable><xqdoc:variable><xqdoc:uri>jdbc:SERIALIZABLE</xqdoc:uri><xqdoc:comment><xqdoc:description> This variable represents the SERIALIZABLE Isolation Levels.
</xqdoc:description></xqdoc:comment></xqdoc:variable><xqdoc:variable><xqdoc:uri>jdbc:CREDENTIALS-CATEGORY</xqdoc:uri><xqdoc:comment><xqdoc:description> This variable represents the category for the credentials used.
</xqdoc:description></xqdoc:comment></xqdoc:variable></xqdoc:variables><xqdoc:collections/><xqdoc:indexes/><xqdoc:functions><xqdoc:function arity="0"><xqdoc:comment><xqdoc:description> Open a connection to a database using the default credentials.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>The function returns an opaque URI that can represents the connection.
 This URI has to be passed to other functions of this module that require
 the <tt>$conn</tt> parameter as a first argument.</p>
</xqdoc:description><xqdoc:return>an identifier that represents the connection to the server.</xqdoc:return><xqdoc:error>NOT-FOUND The default credentials not found.</xqdoc:error><xqdoc:error>SQL28000 Authentication failed.</xqdoc:error><xqdoc:error>SQL08001 Connection error.</xqdoc:error><xqdoc:error>SQL40003 Isolation level not supported.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:connect</xqdoc:name><xqdoc:signature>declare function jdbc:connect() as anyURI</xqdoc:signature><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/jdbc</xqdoc:uri><xqdoc:name>connect</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="0"><xqdoc:comment><xqdoc:description> Open a connection to a database using the default credentials.
 <p>This function has the same semantics as
 <a href="#connect-0">connect#0</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:return>an identifier that represents the connection to the server.</xqdoc:return><xqdoc:error>NOT-FOUND The default credentials not found.</xqdoc:error><xqdoc:error>SQL28000 Authentication failed.</xqdoc:error><xqdoc:error>SQL08001 Connection error.</xqdoc:error><xqdoc:error>SQL40003 Isolation level not supported.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:connect-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:connect-nondeterministic() as anyURI</xqdoc:signature><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.28msec.com/modules/jdbc</xqdoc:uri><xqdoc:name>connect-nondeterministic</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Open a connection to a database.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>The input to the function contains the connection information.
 If a string is used, then the function will interpret it as credential name
 and will connect using the JDBC credentials with the specified name.
 If an object is used, then the function will open a connection using it.
 The object's required structure is described in the module's description.</p>
 <p>The function returns an opaque URI that can represents the connection.
 This URI has to be passed to other functions of this module that require
 the <tt>$conn</tt> parameter as a first argument.</p>
</xqdoc:description><xqdoc:param>$connection-config object containing the configuration information.</xqdoc:param><xqdoc:return>an identifier that represents the connection to the server.</xqdoc:return><xqdoc:error>NOT-FOUND The specified credentials have not been found.</xqdoc:error><xqdoc:error>NOT-VALID Invalid connection information.</xqdoc:error><xqdoc:error>SQL28000 Authentication failed.</xqdoc:error><xqdoc:error>SQL08001 Connection error.</xqdoc:error><xqdoc:error>SQL40003 Isolation level not supported.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:connect</xqdoc:name><xqdoc:signature>declare function jdbc:connect($connection-config as item()) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>connection-config</xqdoc:name><xqdoc:type>item()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>connect</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Open a connection to a database.
 <p>This function has the same semantics as
 <a href="#connect-1">connect#1</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$connection-config object containing the configuration information.</xqdoc:param><xqdoc:return>an identifier that represents the connection to the server.</xqdoc:return><xqdoc:error>NOT-FOUND The specified credentials have not been found.</xqdoc:error><xqdoc:error>NOT-VALID Invalid connection information.</xqdoc:error><xqdoc:error>SQL28000 Authentication failed.</xqdoc:error><xqdoc:error>SQL08001 Connection error.</xqdoc:error><xqdoc:error>SQL40003 Isolation level not supported.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:connect-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:connect-nondeterministic($connection-config as item()) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>connection-config</xqdoc:name><xqdoc:type>item()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>connect-nondeterministic</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Open a connection to a database.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>The input to the function contains the connection information.
 If a string is used, then the function will interpret it as credential name
 and will connect using the JDBC credentials with the specified name.
 If an object is used, then the function will open a connection using it.
 The object's required structure is described in the module's description.</p>
 <p>In addition to the connection configuration, the function allows to
 specify several options:
 <ul>
   <li><tt>autocommit</tt>: <tt>true/false</tt> turn on/off auto commit
 (default: true)</li>
   <li><tt>readonly</tt>: <tt>true/false</tt> configure readonly/write on this
 connection (default: false)</li>
   <li><tt>isolation-level</tt>: configure the isolation level for this connection
     <ul>
       <li><tt>READ-COMMITTED</tt>: set the isolation level read-committed</li>
       <li><tt>READ-UNCOMMITTED</tt>: set the isolation level read-uncommitted</li>
       <li><tt>READ-REPEATABLE</tt>: set the isolation level repeatable-read</li>
       <li><tt>SERIALIZABLE</tt>: set the isolation level serializable</li>
     </ul>
   If no isolation level is provided by the user the connection will be created
   with the default isolation level of the database.</li>
 </ul></p>
 <p>The function returns an opaque URI that represents the connection.
 This URI has to be passed to other functions of this module that require
 the <tt>$conn</tt> parameter as a first argument.</p>
</xqdoc:description><xqdoc:param>$connection-config object containing the configuration information.</xqdoc:param><xqdoc:param>$options object to specify additional connection options.</xqdoc:param><xqdoc:return>an identifier that represents the connection to the server.</xqdoc:return><xqdoc:error>NOT-FOUND The specified credentials have not been found.</xqdoc:error><xqdoc:error>NOT-VALID Invalid connection information.</xqdoc:error><xqdoc:error>SQL28000 Authentication failed.</xqdoc:error><xqdoc:error>SQL08001 Connection error.</xqdoc:error><xqdoc:error>SQL40003 Isolation level not supported.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:connect</xqdoc:name><xqdoc:signature>declare function jdbc:connect($connection-config as item(), $options as object()?) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>connection-config</xqdoc:name><xqdoc:type>item()</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type occurrence="?">object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>connect</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Open a connection to a database.
 <p>This function has the same semantics as
 <a href="#connect-2">connect#2</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$connection-config object containing the configuration information.</xqdoc:param><xqdoc:param>$options object to specify additional connection options.</xqdoc:param><xqdoc:return>an identifier that represents the connection to the server.</xqdoc:return><xqdoc:error>NOT-FOUND The specified credentials have not been found.</xqdoc:error><xqdoc:error>NOT-VALID Invalid connection information.</xqdoc:error><xqdoc:error>SQL28000 Authentication failed.</xqdoc:error><xqdoc:error>SQL08001 Connection error.</xqdoc:error><xqdoc:error>SQL40003 Isolation level not supported.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:connect-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:connect-nondeterministic($connection-config as item(), $options as object()?) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>connection-config</xqdoc:name><xqdoc:type>item()</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type occurrence="?">object()</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.28msec.com/modules/credentials</xqdoc:uri><xqdoc:name>credentials</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>QName</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>empty</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>error</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>connect-nondeterministic</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Verify if a connection is still active.
</xqdoc:description><xqdoc:param>$conn The identifier of the connection to be verified.</xqdoc:param><xqdoc:return>true if connected, false otherwise</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:is-connected</xqdoc:name><xqdoc:signature>declare function jdbc:is-connected($conn as anyURI) as boolean</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>boolean</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>is-connected</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Return a set with options for a specified connection.
 The returned options are equal to the options specified in function jdbc:connect.
 Consequently, the options are specified as follows:
 <ul>
   <li><tt>autocommit</tt>: <tt>true/false</tt> shows auto commit</li>
   <li><tt>readonly</tt>: <tt>true/false</tt> shows if the connection is readonly/write</li>
   <li><tt>isolation-level</tt>: shows the isolation level for this connection
     <ul>
       <li><tt>READ-COMMITTED</tt>: isolation level is read-committed</li>
       <li><tt>READ-UNCOMMITTED</tt>: isolation level is read-uncommitted</li>
       <li><tt>READ-REPEATABLE</tt>: isolation level is repeatable-read</li>
       <li><tt>SERIALIZABLE</tt>: isolation level is serializable</li>
     </ul></li>
 </ul>
</xqdoc:description><xqdoc:param>$conn The identifier of the connection.</xqdoc:param><xqdoc:return>an object with the connection options.</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist</xqdoc:error><xqdoc:error>SQL08000 Connection is closed</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:connection-options</xqdoc:name><xqdoc:signature>declare function jdbc:connection-options($conn as anyURI) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>connection-options</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Commit current transaction from an active connection.
</xqdoc:description><xqdoc:param>$conn The identifier of the connection with a transaction to be commited.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist</xqdoc:error><xqdoc:error>SQL08000 Connection is closed</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:commit</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:commit($conn as anyURI) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>commit</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Rollback the current transaction of a connection.
</xqdoc:description><xqdoc:param>$conn The identifier of the connection with a transaction to be rollbacked.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist</xqdoc:error><xqdoc:error>SQL08000 Connection is closed</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:rollback</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:rollback($conn as anyURI) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>rollback</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Execute any kind of SQL statement.
</xqdoc:description><xqdoc:param>$conn The identifier of the active connection.</xqdoc:param><xqdoc:param>$sql The query string to be executed.</xqdoc:param><xqdoc:return>an identifier of a DataSet.</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:execute</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:execute($conn as anyURI, $sql as string) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>sql</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Execute non-updating SQL statements.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>Every row is represented by an object of column-value representation, as in
 the module description.</p>
</xqdoc:description><xqdoc:param>$conn The identifier of the active connection.</xqdoc:param><xqdoc:param>$sql The query string to be executed.</xqdoc:param><xqdoc:return>an object with the result data rows from the query provided.</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL005 The statement is Updating type.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:execute-query</xqdoc:name><xqdoc:signature>declare function jdbc:execute-query($conn as anyURI, $sql as string) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>sql</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-query</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Execute non-updating SQL statements.
 <p>This function has the same semantics as
 <a href="#execute-query-2">execute-query#2</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$conn The identifier of the active connection.</xqdoc:param><xqdoc:param>$sql The query string to be executed.</xqdoc:param><xqdoc:return>an object with the result data rows from the query provided.</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL005 The statement is Updating type.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:execute-query-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:execute-query-nondeterministic($conn as anyURI, $sql as string) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>sql</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-query-nondeterministic</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Execute updating SQL statements.
</xqdoc:description><xqdoc:param>$conn The identifier of the active connection.</xqdoc:param><xqdoc:param>$sql The query string to be executed.</xqdoc:param><xqdoc:return>the number of affected rows.</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL005 The statement is Read-only type.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:execute-update</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:execute-update($conn as anyURI, $sql as string) as integer</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>sql</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>integer</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-update</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Create a prepared statement for multiple executions with diferent parameters.
 Example:
 <pre>
 jdbc:prepare-statement($connection, "SELECT * FROM users WHERE id=? AND age&gt;?")
 </pre>
</xqdoc:description><xqdoc:param>$conn The identifier of the active connection.</xqdoc:param><xqdoc:param>$sql The query string to be executed.</xqdoc:param><xqdoc:return>the identifier of the prepared statement.</xqdoc:return><xqdoc:error>SQL08003 Connection doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:prepare-statement</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:prepare-statement($conn as anyURI, $sql as string) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>sql</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>prepare-statement</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="3"><xqdoc:comment><xqdoc:description> Set the value of the designated parameter with a <tt>numeric</tt> value.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:param>$parameter-index The index from the parameter to be set.</xqdoc:param><xqdoc:param>$value The value to be set.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL007 Parameter casting error.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:set-numeric</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:set-numeric($prepared-statement as anyURI, $parameter-index as decimal, $value as anyAtomicType) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>parameter-index</xqdoc:name><xqdoc:type>decimal</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>value</xqdoc:name><xqdoc:type>anyAtomicType</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="3"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>set-numeric</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="3"><xqdoc:comment><xqdoc:description> Set the value of the designated parameter with a <tt>string</tt> value.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:param>$parameter-index The index from the parameter to be set.</xqdoc:param><xqdoc:param>$value The value to be set.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL007 Parameter casting error.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:set-string</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:set-string($prepared-statement as anyURI, $parameter-index as integer, $value as string) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>parameter-index</xqdoc:name><xqdoc:type>integer</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>value</xqdoc:name><xqdoc:type>string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="3"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>set-string</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="3"><xqdoc:comment><xqdoc:description> Set the value of the designated parameter with a <tt>boolean</tt> value.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:param>$parameter-index The index from the parameter to be set.</xqdoc:param><xqdoc:param>$value The value to be set.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL007 Parameter casting error.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:set-boolean</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:set-boolean($prepared-statement as anyURI, $parameter-index as integer, $value as boolean) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>parameter-index</xqdoc:name><xqdoc:type>integer</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>value</xqdoc:name><xqdoc:type>boolean</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="3"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>set-boolean</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> Set the value of the designated parameter with a <tt>NULL</tt> value.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:param>$parameter-index The index from the parameter to be set.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL007 Parameter casting error.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:set-null</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:set-null($prepared-statement as anyURI, $parameter-index as integer) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>parameter-index</xqdoc:name><xqdoc:type>integer</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>set-null</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="3"><xqdoc:comment><xqdoc:description> Set the value of the designated parameter with the given value.
 The function will try to cast the value to the correct data type and assign
 it to the parameter.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:param>$parameter-index The index from the parameter to be set.</xqdoc:param><xqdoc:param>$value The value to be set.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL007 Parameter casting error.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:set-value</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:set-value($prepared-statement as anyURI, $parameter-index as decimal, $value as anyAtomicType) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>parameter-index</xqdoc:name><xqdoc:type>decimal</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>value</xqdoc:name><xqdoc:type>anyAtomicType</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="3"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>set-value</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Clear all the parameters of the statement.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:return>an empty-sequence()</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:clear-params</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:clear-params($prepared-statement as anyURI) as empty-sequence()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>empty-sequence()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>clear-params</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Retrieve the names and types of the prepared statement parameters.
 The metadata returned has the following structure:
 <pre>  {
     columns: [{
       "name": string,
       "type": string
       }]
   } </pre>
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:return>parameters metadata (name and type) associated with a prepared statement.</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:custom tag="option">"name" The name of the parameter.</xqdoc:custom><xqdoc:custom tag="option">"type" The SQL type of the parameter.</xqdoc:custom></xqdoc:comment><xqdoc:name>jdbc:parameter-metadata</xqdoc:name><xqdoc:signature>declare function jdbc:parameter-metadata($prepared-statement as anyURI) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>parameter-metadata</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Execute SQL statements prepared with jdbc:prepare-statement,
 after setting the parameters values accordingly and returns an identifier to
 a Dataset.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:return>the identifier of a DataSet.</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:execute-prepared</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:execute-prepared($prepared-statement as anyURI) as anyURI</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>anyURI</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-prepared</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Execute non-updating SQL statements prepared with jdbc:prepare-statement,
 after setting the parameters values accordingly.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
 <p>Every row is represented by an object of column-value representation, as
 in the module description.</p>
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:return>an object with the result data rows from the query processed with the parameters provided.</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL005 The prepared statement is an updating query.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:execute-query-prepared</xqdoc:name><xqdoc:signature>declare function jdbc:execute-query-prepared($prepared-statement as anyURI) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-query-prepared</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Execute non-updating SQL statements prepared with jdbc:prepare-statement,
 after setting the parameters values accordingly.
 <p>This function has the same semantics as
 <a href="#execute-query-prepared-1">execute-query-prepared#1</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:return>an object with the result data rows from the query processed with the parameters provided.</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL005 The prepared statement is an updating query.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:execute-query-prepared-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:execute-query-prepared-nondeterministic($prepared-statement as anyURI) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-query-prepared-nondeterministic</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Execute updating SQL statements prepared with jdbc:prepare-statement.
</xqdoc:description><xqdoc:param>$prepared-statement The identifier of the prepared statement.</xqdoc:param><xqdoc:return>the number of affected rows.</xqdoc:return><xqdoc:error>SQL003 Prepared statement doesn't exist.</xqdoc:error><xqdoc:error>SQL006 The prepared statement is a non-updating query.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:execute-update-prepared</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:sequential function jdbc:execute-update-prepared($prepared-statement as anyURI) as integer</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>prepared-statement</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>integer</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>execute-update-prepared</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Extract the data rows from a non-updating DataSet.
 Every row is represented by an object of column-value representation, as in
 the module description.
</xqdoc:description><xqdoc:param>$dataset The identifier of the DataSet.</xqdoc:param><xqdoc:return>an object with the result data rows from the DataSet provided.</xqdoc:return><xqdoc:error>SQL008 DataSet doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:result-set</xqdoc:name><xqdoc:signature>declare function jdbc:result-set($dataset as anyURI) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>dataset</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>result-set</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Return the metadata of the result of a DataSet.
 <p>
 More in detail, it returns information about column names, types, and whether
 a column can contain a null value.
 The metadata information can only be returned for DataSets that have been
 executed explicitly using the jdbc:execute function.
 The metadata node returned has the following structure:
 <pre>{
   "columns": [ {
       "name": string,
       "type": string,
       "autoincrement"? = boolean,
       "nillable"? = boolean } * ]
 }</pre>
 </p>
 <p>
 If the query is an updating query, then the result object will return the
 number of affected rows like:
 <pre>{ "affectedrows": integer }</pre>
 </p>
</xqdoc:description><xqdoc:param>$dataset The identifier of the DataSet.</xqdoc:param><xqdoc:return>the metadata associated with an executed DataSet.</xqdoc:return><xqdoc:error>SQL008 DataSet doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:metadata</xqdoc:name><xqdoc:signature>declare function jdbc:metadata($dataset as anyURI) as object()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>dataset</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>object()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>metadata</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Return the number of affected rows of an updating DataSet.
</xqdoc:description><xqdoc:param>$dataset The identifier of the DataSet.</xqdoc:param><xqdoc:return>the number of affected rows.</xqdoc:return><xqdoc:error>SQL008 DataSet doesn't exist.</xqdoc:error><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error></xqdoc:comment><xqdoc:name>jdbc:affected-rows</xqdoc:name><xqdoc:signature>declare function jdbc:affected-rows($dataset as anyURI) as integer</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>dataset</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>integer</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>affected-rows</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Return the list of tables from a connection.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
</xqdoc:description><xqdoc:param>$conn The identifier to a connection.</xqdoc:param><xqdoc:return>Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result.</xqdoc:return><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:tables</xqdoc:name><xqdoc:signature>declare function jdbc:tables($conn as anyURI) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="4"><xqdoc:uri>http://www.28msec.com/modules/jdbc</xqdoc:uri><xqdoc:name>tables</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Return the list of tables from a connection.
 <p>This function has the same semantics as
 <a href="#tables-1">tables#1</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$conn The identifier to a connection.</xqdoc:param><xqdoc:return>Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result.</xqdoc:return><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:tables-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:tables-nondeterministic($conn as anyURI) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="4"><xqdoc:uri>http://www.28msec.com/modules/jdbc</xqdoc:uri><xqdoc:name>tables-nondeterministic</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="4"><xqdoc:comment><xqdoc:description> Return the list of tables from a connection.
 <p>This function is declared as deterministic and should be used whenever result
 caching is acceptable.</p>
</xqdoc:description><xqdoc:param>$conn The identifier to a connection.</xqdoc:param><xqdoc:param>$catalog A filter of the catalog name of the tables. Send empty-sequence for all tables.</xqdoc:param><xqdoc:param>$schema A filter of the schema name of the tables. Send empty-sequence for all tables.</xqdoc:param><xqdoc:param>$table A filter of the name of the tables. Send empty-sequence for all tables.</xqdoc:param><xqdoc:return>Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result.</xqdoc:return><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:tables</xqdoc:name><xqdoc:signature>declare function jdbc:tables($conn as anyURI, $catalog as string?, $schema as string?, $table as string?) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>catalog</xqdoc:name><xqdoc:type occurrence="?">string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>schema</xqdoc:name><xqdoc:type occurrence="?">string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>table</xqdoc:name><xqdoc:type occurrence="?">string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="4"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>tables</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="4"><xqdoc:comment><xqdoc:description> Return the list of tables from a connection.
 <p>This function has the same semantics as <a href="#tables-4">tables#4</a>,
 but is declared as being non deterministic and thus should only be used when
 result caching is not desired.</p>
</xqdoc:description><xqdoc:param>$conn The identifier to a connection.</xqdoc:param><xqdoc:param>$catalog A filter of the catalog name of the tables. Send empty-sequence for all tables.</xqdoc:param><xqdoc:param>$schema A filter of the schema name of the tables. Send empty-sequence for all tables.</xqdoc:param><xqdoc:param>$table A filter of the name of the tables. Send empty-sequence for all tables.</xqdoc:param><xqdoc:return>Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result.</xqdoc:return><xqdoc:error>SQL08000 Connection is closed.</xqdoc:error><xqdoc:error>SQL001 Descriptive error, see error in attached message.</xqdoc:error><xqdoc:see><a href="#determinism">Notice about determinism</a></xqdoc:see></xqdoc:comment><xqdoc:name>jdbc:tables-nondeterministic</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="an" namespace="http://zorba.io/annotations" localname="nondeterministic" value=""/></xqdoc:annotations><xqdoc:signature>declare %an:nondeterministic function jdbc:tables-nondeterministic($conn as anyURI, $catalog as string?, $schema as string?, $table as string?) as object()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>conn</xqdoc:name><xqdoc:type>anyURI</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>catalog</xqdoc:name><xqdoc:type occurrence="?">string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>schema</xqdoc:name><xqdoc:type occurrence="?">string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>table</xqdoc:name><xqdoc:type occurrence="?">string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">object()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="4"><xqdoc:uri>http://www.zorba-xquery.com/modules/jdbc</xqdoc:uri><xqdoc:name>tables-nondeterministic</xqdoc:name></xqdoc:invoked></xqdoc:function></xqdoc:functions></xqdoc:xqdoc>