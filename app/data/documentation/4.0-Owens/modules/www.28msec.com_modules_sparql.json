{ "ns" : "http://www.28msec.com/modules/sparql", "description" : " This module contains functions to interact with a SPARQL endpoint.\n Requests to an endpoint are made using HTTP.\n Specifically, this module allows SELECT, ASK, CONSTRUCT and DESCRIBE queries. Additionally, it also allows for UPDATE statements.\n Various result formats are supported (e.g. XML, JSON, CSV)\n <h2 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Configuration</h2>\n For this module you may use a preconfigured default or named datasource of the SPARQL category.\n You can also provide a configuration object directly.\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">As config parameter you can either pass a string that will be interpreted as a SPARQL endpoint datasource name or\n  an object with the following properties:\n <ul>\n  <li><tt>href</tt>: The URL of the SPARQL endpoint to use. Required.</li>\n  <li><tt>auth_method</tt>: The HTTP authentication method to use.</li>\n  <li><tt>username</tt>: The username to use for HTTP authentication.</li>\n  <li><tt>password</tt>: The password to use for HTTP authentication.</li>\n </ul>\n </p>\n <h2 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Options</h2>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The options object that can be passed to plenty of the functions in this module. It may have the following properties:\n <ul>\n   <li><tt>default-graph-uri</tt>: A string or an array of strings with the graph URIs to be used by the query.</li>\n   <li><tt>named-graph-uri</tt>: A string or an array of strings with the named graph URIs to be used by the query.</li>\n   <li><tt>using-graph-uri</tt>: A string or an array of strings with the graph URIs to be used by an update statement.</li>\n   <li><tt>using-named-graph-uri</tt>: A string or an array of strings with the named graph URIs to be used by an update statement.</li>\n   <li><tt>method</tt>: The request method to be used. Available method values are $sparql:METHOD-GET, $sparql:METHOD-POST-URLENCODED or $sparql:METHOD-POST-SPARQL.</li>\n   <li><tt>format</tt> : The result format to request. Possible format values are $sparql:FORMAT-XML, $sparql:FORMAT-JSON, $sparql:FORMAT-CSV, $sparql:FORMAT-TSV, $sparql:FORMAT-ANY. For CONSTRUCT or DESCRIBE queries $sparql:FORMAT-RDF is available.</li>\n   <li><tt>parameters</tt>: Many SPARQL endpoints support additional parameters which are not part of the SPARQL endpoint specification. They can be provided here.</li>\n   <li><tt>http-headers</tt>: object that will be used as the headers property for the requests made by the http-client.</li>\n   <li><tt>http-options</tt>: object that will be used as the options property for the requests made by the http-client.</li>\n  </ul>\n <p>All those properties are optional.</p>\n </p>\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Alexander.Kreutz@28msec.com</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "", "prefix" : "an" }, { "uri" : "http://www.28msec.com/modules/credentials", "prefix" : "credentials" }, { "uri" : "http://zorba.io/modules/http-client", "prefix" : "http-client" }, { "uri" : "http://www.w3.org/1999/02/22-rdf-syntax-ns#", "prefix" : "rdf" }, { "uri" : "http://www.w3.org/2005/sparql-results#", "prefix" : "s" }, { "uri" : "http://www.28msec.com/modules/sparql", "prefix" : "sparql" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" } ], "functions" : [ { "isDocumented" : true, "arity" : 1, "name" : "ask", "qname" : "sparql:ask", "signature" : "($query as string) as xs:boolean", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL ASK query to an endpoint and returns the result as boolean value.\n The default datasource for SPARQL will be used.\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL ASK query to an endpoint and returns the result as boolean value.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL ASK query as string.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "The boolean ASK query result." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 2, "name" : "ask", "qname" : "sparql:ask", "signature" : "($query as string, $options as object()?) as xs:boolean", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL ASK query to an endpoint and returns the result as boolean value.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object may be used to request a specific result format. However this function will try to extract only the boolean answer from the result.</li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL ASK query to an endpoint and returns the result as boolean value.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL ASK query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "The boolean ASK query result." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 3, "name" : "ask", "qname" : "sparql:ask", "signature" : "($config as item()?, $query as string, $options as object()?) as xs:boolean", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL ASK query to an endpoint and returns the result as boolean value.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object may be used to request a specific result format. However this function will try to extract only the boolean answer from the result.</li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL ASK query to an endpoint and returns the result as boolean value.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "config", "type" : "item()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the credentials to use as string or a config object as described in the module description.</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL ASK query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "The boolean ASK query result." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-RESPONSE-TYPE if the response format cannot be handled by this function</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:ERROR if any http or endpoint error occurs</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-PARAMETER invalid option specification</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-NOT-FOUND credential information not found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-INVALID credential information not valid</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "query-json", "qname" : "sparql:query-json", "signature" : "($query as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL JSON format object.\n If the endpoint fails to deliver SPARQL JSON result format this function will try to convert the results to JSON if possible.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/sparql11-results-json\" target=\"_blank\">SPARQL 1.1 Query Results JSON Format</a></p>\n", "summary" : "<p>  \n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL JSON format object.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL SELECT or ASK query as string.</div>" } ], "returns" : { "type" : "object()", "description" : "The query result in SPARQL JSON format." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 2, "name" : "query-json", "qname" : "sparql:query-json", "signature" : "($query as string, $options as object()?) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL JSON format object.\n If the endpoint fails to deliver SPARQL JSON result format this function will try to convert the results to JSON if possible.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/sparql11-results-json\" target=\"_blank\">SPARQL 1.1 Query Results JSON Format</a></p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object will be ignored. \"application/sparql-results+json\" will be requested as result format. </li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL JSON format object.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL SELECT or ASK query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "object()", "description" : "The query result in SPARQL JSON format." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 3, "name" : "query-json", "qname" : "sparql:query-json", "signature" : "($config as item()?, $query as string, $options as object()?) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL JSON format object.\n If the endpoint fails to deliver SPARQL JSON result format this function will try to convert the results to JSON if possible.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/sparql11-results-json\" target=\"_blank\">SPARQL 1.1 Query Results JSON Format</a></p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object will be ignored. \"application/sparql-results+json\" will be requested as result format. </li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL JSON format object.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "config", "type" : "item()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the credentials to use as string or a config object as described in the module description.</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL SELECT or ASK query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "object()", "description" : "The query result in SPARQL JSON format." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-RESPONSE-TYPE if the response format cannot be handled by this function</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:ERROR if any http or endpoint error occurs</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-PARAMETER invalid option specification</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-NOT-FOUND credential information not found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-INVALID credential information not valid</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "query-rdf", "qname" : "sparql:query-rdf", "signature" : "($query as string) as element(rdf:RDF)", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL CONSTRUCT or DESCRIBE query to an endpoint and returns the query response as RDF.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/rdf-syntax-grammar\" target=\"_blank\">RDF/XML Syntax Specification</a></p>\n", "summary" : "<p>  \n This function sends a SPARQL CONSTRUCT or DESCRIBE query to an endpoint and returns the query response as RDF.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL CONSTRUCT or DESCRIBE query as string.</div>" } ], "returns" : { "type" : "element(rdf:RDF)", "description" : "The query result as RDF XML element." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 2, "name" : "query-rdf", "qname" : "sparql:query-rdf", "signature" : "($query as string, $options as object()?) as element(rdf:RDF)", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL CONSTRUCT or DESCRIBE query to an endpoint and returns the query response as RDF.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/rdf-syntax-grammar\" target=\"_blank\">RDF/XML Syntax Specification</a></p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object will be ignored. \"application/rdf+xml\" will be requested as result format. </li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL CONSTRUCT or DESCRIBE query to an endpoint and returns the query response as RDF.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL CONSTRUCT or DESCRIBE query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "element(rdf:RDF)", "description" : "The query result as RDF XML element." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 3, "name" : "query-rdf", "qname" : "sparql:query-rdf", "signature" : "($config as item()?, $query as string, $options as object()?) as element(rdf:RDF)", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL CONSTRUCT or DESCRIBE query to an endpoint and returns the query response as RDF.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/rdf-syntax-grammar\" target=\"_blank\">RDF/XML Syntax Specification</a></p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object will be ignored. \"application/rdf+xml\" will be requested as result format. </li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL CONSTRUCT or DESCRIBE query to an endpoint and returns the query response as RDF.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "config", "type" : "item()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the credentials to use as string or a config object as described in the module description.</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL CONSTRUCT or DESCRIBE query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "element(rdf:RDF)", "description" : "The query result as RDF XML element." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-RESPONSE-TYPE if the response format cannot be handled by this function</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:ERROR if any http or endpoint error occurs</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-PARAMETER invalid option specification</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-NOT-FOUND credential information not found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-INVALID credential information not valid</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "query-xml", "qname" : "sparql:query-xml", "signature" : "($query as string) as element(s:sparql)", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL XML format element.\n If the endpoint fails to deliver SPARQL XML result format this function will try to convert the results to XML if possible.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/rdf-sparql-XMLres/\" target=\"_blank\">SPARQL Query Results XML Format</a></p>\n", "summary" : "<p>  \n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL XML format element.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL SELECT or ASK query as string.</div>" } ], "returns" : { "type" : "element(s:sparql)", "description" : "The query result in SPARQL XML format." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 2, "name" : "query-xml", "qname" : "sparql:query-xml", "signature" : "($query as string, $options as object()?) as element(s:sparql)", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL XML format element.\n If the endpoint fails to deliver SPARQL XML result format this function will try to convert the results to XML if possible.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/rdf-sparql-XMLres/\" target=\"_blank\">SPARQL Query Results XML Format</a></p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object will be ignored. \"application/sparql-results+xml\" will be requested as result format. </li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL XML format element.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL SELECT or ASK query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "element(s:sparql)", "description" : "The query result in SPARQL XML format." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 3, "name" : "query-xml", "qname" : "sparql:query-xml", "signature" : "($config as item()?, $query as string, $options as object()?) as element(s:sparql)", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL XML format element.\n If the endpoint fails to deliver SPARQL XML result format this function will try to convert the results to XML if possible.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Link to the specification of the result format at W3C: <a href=\"http://www.w3.org/TR/rdf-sparql-XMLres/\" target=\"_blank\">SPARQL Query Results XML Format</a></p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object will be ignored. \"application/sparql-results+xml\" will be requested as result format. </li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL SELECT or ASK query to an endpoint and returns the query response as SPARQL XML format element.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "config", "type" : "item()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the credentials to use as string or a config object as described in the module description.</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL SELECT or ASK query as string.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "element(s:sparql)", "description" : "The query result in SPARQL XML format." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-RESPONSE-TYPE if the response format cannot be handled by this function</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:ERROR if any http or endpoint error occurs</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-PARAMETER invalid option specification</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-NOT-FOUND credential information not found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-INVALID credential information not valid</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "query", "qname" : "sparql:query", "signature" : "($query as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL query to an endpoint and directly returns the corresponding HTTP response.\n The default datasource for SPARQL will be used.\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL query to an endpoint and directly returns the corresponding HTTP response.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL query as string. May be any kind of query but not an update.</div>" } ], "returns" : { "type" : "object()", "description" : "The endpoints response. This function returns the plain response object from the http-client." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 2, "name" : "query", "qname" : "sparql:query", "signature" : "($query as string, $options as object()?) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL query to an endpoint and directly returns the corresponding HTTP response.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object may be used to request a specific result format. XML will be used as default. However, note that this function does not interpret the result.</li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL query to an endpoint and directly returns the corresponding HTTP response.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL query as string. May be any kind of query but not an update.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "object()", "description" : "The endpoints response. This function returns the plain response object from the http-client." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 3, "name" : "query", "qname" : "sparql:query", "signature" : "($config as item()?, $query as string, $options as object()?) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL query to an endpoint and directly returns the corresponding HTTP response.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>default-graph-uri</tt> and <tt>named-graph-uri</tt> properties of the options object may be used to pass default graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. GET will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object may be used to request a specific result format. XML will be used as default. However, note that this function does not interpret the result.</li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL query to an endpoint and directly returns the corresponding HTTP response.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "config", "type" : "item()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the credentials to use as string or a config object as described in the module description.</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A SPARQL query as string. May be any kind of query but not an update.</div>" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "object()", "description" : "The endpoints response. This function returns the plain response object from the http-client." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-PARAMETER invalid option specification</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-NOT-FOUND credential information not found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-INVALID credential information not valid</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "update", "qname" : "sparql:update", "signature" : "($update-statement as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL update statement to an endpoint and directly returns the corresponding HTTP response.\n The default datasource for SPARQL will be used.\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL update statement to an endpoint and directly returns the corresponding HTTP response.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "update-statement", "type" : "string", "occurrence" : null, "description" : "" } ], "returns" : { "type" : "object()", "description" : "The endpoints response. This function returns the plain response object from the http-client." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 2, "name" : "update", "qname" : "sparql:update", "signature" : "($update-statement as string, $options as object()?) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL update statement to an endpoint and directly returns the corresponding HTTP response.\n The default datasource for SPARQL will be used.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>using-graph-uri</tt> and <tt>using-named-graph-uri</tt> properties of the options object may be used to pass graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. POST-URLENCODED will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object may be used to request a specific result format. XML will be used as default. However, note that this function does not interpret the result.</li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL update statement to an endpoint and directly returns the corresponding HTTP response.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "update-statement", "type" : "string", "occurrence" : null, "description" : "" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "object()", "description" : "The endpoints response. This function returns the plain response object from the http-client." }, "errors" : [  ] }, { "isDocumented" : true, "arity" : 3, "name" : "update", "qname" : "sparql:update", "signature" : "($config as item()?, $update-statement as string, $options as object()?) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n This function sends a SPARQL update statement to an endpoint and directly returns the corresponding HTTP response.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <ul>\n    <li>The <tt>using-graph-uri</tt> and <tt>using-named-graph-uri</tt> properties of the options object may be used to pass graph URIs or named graph URIs to the endpoint.</li>\n    <li>The <tt>method</tt> property of the options object may be used to set the request method to be used. POST-URLENCODED will be used as default.</li>\n    <li>The <tt>format</tt> property of the options object may be used to request a specific result format. XML will be used as default. However, note that this function does not interpret the result.</li>\n   </ul>\n </p>\n", "summary" : "<p>  \n This function sends a SPARQL update statement to an endpoint and directly returns the corresponding HTTP response.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "config", "type" : "item()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the credentials to use as string or a config object as described in the module description.</div>" }, { "name" : "update-statement", "type" : "string", "occurrence" : null, "description" : "" }, { "name" : "options", "type" : "object()", "occurrence" : "?", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An optional options object as described in the module description.</div>" } ], "returns" : { "type" : "object()", "description" : "The endpoints response. This function returns the plain response object from the http-client." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:INVALID-PARAMETER invalid option specification</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-NOT-FOUND credential information not found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">sparql:CREDENTIALS-INVALID credential information not valid</xqdoc:error>" ] } ], "variables" : [ { "name" : "sparql:CREDENTIALS-CATEGORY", "type" : "string", "description" : " This variable represents the category of the datasource.\n" }, { "name" : "sparql:METHOD-GET", "type" : "string", "description" : " This variable represents the request method using HTTP GET requests. May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">method</tt> property of the options object.\n" }, { "name" : "sparql:METHOD-POST-URLENCODED", "type" : "string", "description" : " This variable represents the request method using HTTP POST with URL-encoded parameters. May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">method</tt> property of the options object.\n" }, { "name" : "sparql:METHOD-POST-SPARQL", "type" : "string", "description" : " This variable represents the request method using HTTP POST with the application/sparql-query content type. May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">method</tt> property of the options object.\n" }, { "name" : "sparql:FORMAT-XML", "type" : "string", "description" : " This variable represents the SPARQL XML result format.May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">format</tt> property of the options object.\n" }, { "name" : "sparql:FORMAT-JSON", "type" : "string", "description" : " This variable represents the SPARQL JSON result format.May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">format</tt> property of the options object.\n" }, { "name" : "sparql:FORMAT-RDF", "type" : "string", "description" : " This variable represents the RDF+XML result format.May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">format</tt> property of the options object.\n" }, { "name" : "sparql:FORMAT-CSV", "type" : "string", "description" : " This variable represents the CSV result format.May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">format</tt> property of the options object.\n" }, { "name" : "sparql:FORMAT-TSV", "type" : "string", "description" : " This variable represents the TSV result format.May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">format</tt> property of the options object.\n" }, { "name" : "sparql:FORMAT-ANY", "type" : "string", "description" : " This variable represents any result format. May be used for the <tt xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">format</tt> property of the options object to not specify a requested format.\n" } ] }