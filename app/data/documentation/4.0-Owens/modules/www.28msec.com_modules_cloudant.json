{ "ns" : "http://www.28msec.com/modules/cloudant", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This module provides functionality for creating, reading, updating,\n deleting and searching data in <a href=\"https://cloudant.com/\">Cloudant</a>\n databases.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Before issuing a request to Cloudant it is mandatory to create\n a new connection through one of the <code>connect</code> functions.\n These functions return a connection identifier which needs to be used\n to access data in Cloudant through the other functions.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">In these functions Cloudant databases will be identified through\n their names. By default, the functions will assume that the database is owned by\n the user for which the given connection has been created.\n To specify a different database owner, most functions accept an\n <code>$options</code> parameter that allows a <code>database-owner</code>\n option to specify a different database owner for a single request.\n Moreover, when connecting, it is possible to specify the default\n database owner using the <code>connect#3</code> function.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Additional information on the Cloudant APIs can be found\n <a href=\"https://cloudant.com/for-developers/\">on the Cloudant website</a>.</p>\n <h2 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" id=\"determinism\">Important Notice Regarding Function Determinism</h2>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The non side-effecting functions:\n <ul>\n   <li><a href=\"?anchor=list-databases-1\">list-databases#1</a></li>\n   <li><a href=\"?anchor=list-databases-2\">list-databases#2</a></li>\n   <li><a href=\"?anchor=database-info-2\">database-info#2</a></li>\n   <li><a href=\"?anchor=database-info-3\">database-info#3</a></li>\n   <li><a href=\"?anchor=all-documents-2\">all-documents#2</a></li>\n   <li><a href=\"?anchor=all-documents-3\">all-documents#3</a></li>\n   <li><a href=\"?anchor=multiple-documents-3\">multiple-documents#3</a></li>\n   <li><a href=\"?anchor=multiple-documents-4\">multiple-documents#4</a></li>\n   <li><a href=\"?anchor=document-3\">document#3</a></li>\n   <li><a href=\"?anchor=document-4\">document#4</a></li>\n   <li><a href=\"?anchor=document-info-3\">document-info#3</a></li>\n   <li><a href=\"?anchor=document-info-4\">document-info#4</a></li>\n   <li><a href=\"?anchor=attachment-4\">attachment#4</a></li>\n   <li><a href=\"?anchor=attachment-5\">attachment#5</a></li>\n   <li><a href=\"?anchor=all-view-documents-4\">all-view-documents#4</a></li>\n   <li><a href=\"?anchor=all-view-documents-5\">all-view-documents#5</a></li>\n   <li><a href=\"?anchor=multiple-view-documents-5\">multiple-view-documents#5</a></li>\n   <li><a href=\"?anchor=multiple-view-documents-6\">multiple-view-documents#6</a></li>\n   <li><a href=\"?anchor=lucene-query-5\">lucene-query#5</a></li>\n   <li><a href=\"?anchor=lucene-query-6\">lucene-query#6</a></li>\n </ul>\n are declared deterministic, which means that their results could be cached\n when invoked multiple times with the same arguments in the same query execution.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To not use cached results you can use the following alternative functions:\n <ul>\n   <li><a href=\"?anchor=list-databases-nondeterministic-1\">list-databases-nondeterministic#1</a></li>\n   <li><a href=\"?anchor=list-databases-nondeterministic-2\">list-databases-nondeterministic#2</a></li>\n   <li><a href=\"?anchor=database-info-nondeterministic-2\">database-info-nondeterministic#2</a></li>\n   <li><a href=\"?anchor=database-info-nondeterministic-3\">database-info-nondeterministic#3</a></li>\n   <li><a href=\"?anchor=all-documents-nondeterministic-2\">all-documents-nondeterministic#2</a></li>\n   <li><a href=\"?anchor=all-documents-nondeterministic-3\">all-documents-nondeterministic#3</a></li>\n   <li><a href=\"?anchor=multiple-documents-nondeterministic-3\">multiple-documents-nondeterministic#3</a></li>\n   <li><a href=\"?anchor=multiple-documents-nondeterministic-4\">multiple-documents-nondeterministic#4</a></li>\n   <li><a href=\"?anchor=document-nondeterministic-3\">document-nondeterministic#3</a></li>\n   <li><a href=\"?anchor=document-nondeterministic-4\">document-nondeterministic#4</a></li>\n   <li><a href=\"?anchor=document-info-nondeterministic-3\">document-info-nondeterministic#3</a></li>\n   <li><a href=\"?anchor=document-info-nondeterministic-4\">document-info-nondeterministic#4</a></li>\n   <li><a href=\"?anchor=attachment-nondeterministic-4\">attachment-nondeterministic#4</a></li>\n   <li><a href=\"?anchor=attachment-nondeterministic-5\">attachment-nondeterministic#5</a></li>\n   <li><a href=\"?anchor=all-view-documents-nondeterministic-4\">all-view-documents-nondeterministic#4</a></li>\n   <li><a href=\"?anchor=all-view-documents-nondeterministic-5\">all-view-documents-nondeterministic#5</a></li>\n   <li><a href=\"?anchor=multiple-view-documents-nondeterministic-5\">multiple-view-documents-nondeterministic#5</a></li>\n   <li><a href=\"?anchor=multiple-view-documents-nondeterministic-6\">multiple-view-documents-nondeterministic#6</a></li>\n   <li><a href=\"?anchor=lucene-query-nondeterministic-5\">lucene-query-nondeterministic#5</a></li>\n   <li><a href=\"?anchor=lucene-query-nondeterministic-6\">lucene-query-nondeterministic#6</a></li>\n </ul>\n which have been declared as being non deterministic.</p>\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Federico Cavalieri</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/annotations", "prefix" : "an" }, { "uri" : "http://www.28msec.com/modules/cloudant", "prefix" : "cloudant" }, { "uri" : "http://www.28msec.com/modules/credentials", "prefix" : "credentials" }, { "uri" : "http://www.w3.org/2005/xqt-errors", "prefix" : "err" }, { "uri" : "http://zorba.io/modules/http-client", "prefix" : "http" }, { "uri" : "http://www.28msec.com/modules/maps", "prefix" : "map" }, { "uri" : "http://zorba.io/modules/random", "prefix" : "random" }, { "uri" : "http://www.zorba-xquery.com/options/versioning", "prefix" : "ver" } ], "functions" : [ { "isDocumented" : true, "arity" : 2, "name" : "all-documents-nondeterministic", "qname" : "cloudant:all-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists all the documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#all-documents-2\">all-documents#2</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Lists all the documents in a given database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "all-documents-nondeterministic", "qname" : "cloudant:all-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists all the documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#all-documents-3\">all-documents#3</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Lists all the documents in a given database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "all-documents", "qname" : "cloudant:all-documents", "signature" : "($connection as anyURI, $database as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists all the documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:all-documents($connection, \"db\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\":3,\n   \"offset\":0,\n   \"rows\":[\n   {\n     \"id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"key\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"value\":\n     {\n       \"rev\":\"2-9d5401898196997853b5ac4163857a29\"\n     }\n   },\n   {\n     \"id\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"key\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"value\":\n     {\n       \"rev\":\"2-ff7b85665c4c297838963c80ecf481a3\"\n      }\n   },\n   {\n     \"id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"key\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"value\":\n     {\n       \"rev\":\"2-cbdef49ef3ddc127eff86350844a6108\"\n     }\n   }]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision number.</li>\n  <li>total_rows: number of documents in the database.</li>\n  <li>update_seq: current update sequence database.</li>\n </ul>\n </p>\n", "summary" : "<p>  Lists all the documents in a given database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "all-documents", "qname" : "cloudant:all-documents", "signature" : "($connection as anyURI, $database as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists all the documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>descending: return the documents in descending by key order (boolean,\n   default: false).</li>\n   <li>endkey: stop returning records when the specified key is reached (string).</li>\n   <li>endkey_docid: stop returning records when the specified document ID is\n   reached (string).</li>\n   <li>group: group the results using the reduce function to a group or single\n   row (boolean, default: false).</li>\n   <li>group_level: specify the group level to be used (numeric).</li>\n   <li>include_docs: include the full content of the documents in the return\n   (boolean, default: false).</li>\n   <li>inclusive_end: specifies whether the specified end key should be included\n   in the result (boolean, default: true).</li>\n   <li>key: return only documents that match the specified key (string).</li>\n   <li>limit: limit the number of the returned documents to the specified number\n   (numeric).</li>\n   <li>reduce: use the reduction function (boolean, default: true).</li>\n   <li>skip: skip this number of records before starting to return the results\n   (numeric, default: 0).</li>\n   <li>stale: allow the results from a stale view to be used (string, allowed\n   value: \"ok\").</li>\n   <li>startkey: start returning records when the specified key is reached (string).</li>\n   <li>startkey_docid: start returning records when the specified document ID\n   is reached (string).</li>\n   <li>database-owner: specifies the database owner (string, default: connection\n   user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:all-documents($connection, \"db\", {\"database-owner\": \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\":3,\n   \"offset\":0,\n   \"rows\":[\n   {\n     \"id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"key\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"value\":\n     {\n       \"rev\":\"2-9d5401898196997853b5ac4163857a29\"\n     }\n   },\n   {\n     \"id\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"key\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"value\":\n     {\n       \"rev\":\"2-ff7b85665c4c297838963c80ecf481a3\"\n      }\n   },\n   {\n     \"id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"key\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"value\":\n     {\n       \"rev\":\"2-cbdef49ef3ddc127eff86350844a6108\"\n     }\n   }]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision number.</li>\n  <li>total_rows: number of documents in the database.</li>\n  <li>update_seq: current update sequence database.</li>\n </ul>\n </p>\n", "summary" : "<p>  Lists all the documents in a given database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "all-view-documents-nondeterministic", "qname" : "cloudant:all-view-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns a JSON object describing all the documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#all-view-documents-4\">all-view-documents#4</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns a JSON object describing all the documents in a given view.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "all-view-documents-nondeterministic", "qname" : "cloudant:all-view-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns a JSON object describing all the documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#all-view-documents-5\">all-view-documents#5</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns a JSON object describing all the documents in a given view.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "all-view-documents", "qname" : "cloudant:all-view-documents", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns a JSON object describing all the documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:all-view-documents($connection, \"db\", \"recipes\", \"by_title\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"offset\" : 0,\n   \"rows\" :\n   [\n     {\n       \"id\" : \"3-tiersalmonspinachandavocadoterrine\",\n       \"key\" : \"3-tier salmon, spinach and avocado terrine\",\n       \"value\" : [\"3-tier salmon, spinach and avocado terrine\"]\n     },\n     {\n       \"id\" : \"Aberffrawcake\",\n       \"key\" : \"Aberffraw cake\",\n       \"value\" : [\"Aberffraw cake\"]\n     },\n     {\n       \"id\" : \"Adukiandorangecasserole-microwave\",\n       \"key\" : \"Aduki and orange casserole - microwave\",\n       \"value\" : [\"Aduki and orange casserole - microwave\"]\n     }\n   ],\n   \"total_rows\" : 3\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision number.</li>\n  <li>total_rows: number of documents in the database.</li>\n </ul>\n </p>\n", "summary" : "<p>  Returns a JSON object describing all the documents in a given view.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "all-view-documents", "qname" : "cloudant:all-view-documents", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns a JSON object describing all the documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>descending: return the documents in descending by key order (boolean,\n   default: false)</li>\n   <li>endkey: stop returning records when the specified key is reached (string)</li>\n   <li>endkey_docid: stop returning records when the specified document ID is\n   reached (string)</li>\n   <li>group: group the results using the reduce function to a group or single\n   row (boolean, default: false)</li>\n   <li>group_level: specify the group level to be used (numeric)</li>\n   <li>include_docs: include the full content of the documents in the return\n   (boolean, default: false)</li>\n   <li>inclusive_end: specifies whether the specified end key should be included\n   in the result (boolean, default: true)</li>\n   <li>key: return only documents that match the specified key (string)</li>\n   <li>limit: limit the number of the returned documents to the specified number\n   (numeric)</li>\n   <li>reduce: use the reduction function (boolean, default: true)</li>\n   <li>skip: skip this number of records before starting to return the results\n   (numeric, default: 0)</li>\n   <li>stale: allow the results from a stale view to be used (string, allowed\n   value: \"ok\")</li>\n   <li>startkey: start returning records when the specified key is reached\n   (string)</li>\n   <li>startkey_docid: start returning records when the specified document ID\n   is reached (string)</li>\n   <li>database-owner: specifies the database owner (string, default:\n   connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:all-view-documents($connection, \"db\", \"recipes\", \"by_title\",\n   {\"database-owner\" : \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"offset\" : 0,\n   \"rows\" :\n   [\n     {\n       \"id\" : \"3-tiersalmonspinachandavocadoterrine\",\n       \"key\" : \"3-tier salmon, spinach and avocado terrine\",\n       \"value\" : [\"3-tier salmon, spinach and avocado terrine\"]\n     },\n     {\n       \"id\" : \"Aberffrawcake\",\n       \"key\" : \"Aberffraw cake\",\n       \"value\" : [\"Aberffraw cake\"]\n     },\n     {\n       \"id\" : \"Adukiandorangecasserole-microwave\",\n       \"key\" : \"Aduki and orange casserole - microwave\",\n       \"value\" : [\"Aduki and orange casserole - microwave\"]\n     }\n   ],\n   \"total_rows\" : 3\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision\n  number.</li>\n  <li>total_rows: number of documents in the database.</li>\n </ul>\n </p>\n", "summary" : "<p>  Returns a JSON object describing all the documents in a given view.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "attachment-nondeterministic", "qname" : "cloudant:attachment-nondeterministic", "signature" : "($connection as anyURI, $database as string, $document-id as string, $attachment-name as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves the specified document attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#attachment-4\">attachment#4</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Retrieves the specified document attachment.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An attchment name</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document attachment" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "attachment-nondeterministic", "qname" : "cloudant:attachment-nondeterministic", "signature" : "($connection as anyURI, $database as string, $document-id as string, $attachment-name as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves the specified document attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#attachment-5\">attachment#5</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Retrieves the specified document attachment.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An attchment name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document attachment" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-NOT-EXISTS Attachment does not exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "attachment", "qname" : "cloudant:attachment", "signature" : "($connection as anyURI, $database as string, $document-id as string, $attachment-name as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves the specified document attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:attachment($connection, \"db\", \"DocID\", \"Attachment\")</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieving a design document attachment.</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To retrieve a design document attachment the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:attachment($connection, \"db\", \"_design/DocID\", \"Attachment\")</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the media-type of the attachment as\n it was specified when the attachment was submitted to the database and\n its raw content.\n The format of the returned object is the following:\n <pre>\n {\n   \"media-type\": \"text/plain\",\n   \"content\" : \"Hello World\"\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The type of the content field is determined by the media-type returned by the\n server. If the media-type indicates that the body content is textual,\n then the content has type string, base64Binary otherwise.\n Specifically, the body content is considered textual only if the MIME-type specified in\n the media-type is one of:\n <ul>\n   <li>\"application/json\"</li>\n   <li>\"application/x-javascript\"</li>\n   <li>\"application/xml\"</li>\n   <li>\"application/xml-external-parsed-entity\"</li>\n </ul>\n or if the MIME-type starts with \"text/\" or ends with \"+xml\".</p>\n", "summary" : "<p>  Retrieves the specified document attachment.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An attchment name</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document attachment" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "attachment", "qname" : "cloudant:attachment", "signature" : "($connection as anyURI, $database as string, $document-id as string, $attachment-name as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves the specified document attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:attachment($connection, \"db\", \"DocID\", \"Attachment\",\n   {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieving a design document attachment.</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To retrieve a design document attachment the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:attachment($connection, \"db\", \"_design/DocID\", \"Attachment\",\n   {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the media-type of the attachment as\n it was specified when the attachment was submitted to the database and\n its raw content.\n The format of the returned object is the following:\n <pre>\n {\n   \"media-type\": \"text/plain\",\n   \"content\" : \"Hello World\"\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The type of the content field is determined by the media-type returned by the\n server. If the media-type indicates that the body content is textual,\n then the content has type string, base64Binary otherwise.\n Specifically, the body content is considered textual only if the MIME-type specified in\n the media-type is one of:\n <ul>\n   <li>\"application/json\"</li>\n   <li>\"application/x-javascript\"</li>\n   <li>\"application/xml\"</li>\n   <li>\"application/xml-external-parsed-entity\"</li>\n </ul>\n or if the MIME-type starts with \"text/\" or ends with \"+xml\".</p>\n", "summary" : "<p>  Retrieves the specified document attachment.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An attchment name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document attachment" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-NOT-EXISTS Attachment does not exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "bulk-crud", "qname" : "cloudant:bulk-crud", "signature" : "($connection as anyURI, $database as string, $documents as object()*) as array()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates, updates or deletes multiple documents with a single request.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When creating new documents the document ID is optional. For updating\n existing documents, you must provide the document ID, revision information,\n and new document values. To delete existing documents, you must provide the\n document ID, revision information and add a field <code>_deleted</code> having\n value <code>true</code>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:bulk-crud($connection, \"db\",\n (\n   {\n     \"name\":\"Nicholas\",\n     \"age\":45,\n     \"gender\":\"male\",\n   },\n   {\n     \"name\":\"Taylor\",\n     \"age\":50,\n     \"gender\":\"male\",\n     \"_id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n   },\n   {\n     \"name\":\"Owen\",\n     \"age\":51,\n     \"gender\":\"male\",\n     \"_id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"_rev\":\"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n   },\n   {\n     \"_id\":\"b675e932-9bb6-4fc9-b889-50238ac3512b\",\n     \"_rev\":\"2-abd3942fdab3515bfed224abed2451feb\",\n     \"_deleted\": true\n   }\n ))\n </pre>\n requires to insert the first document with a system-generated identifier, to\n insert the second one with a user-specified identifier, to update the third\n one and, finally,to delete the last one.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The JSON returned by the_bulk_docs operation consists of an array\n of JSON structures, one for each submitted document.\n The returned JSON structure should be examined to ensure that all of\n the documents submitted in the original request were successfully added\n to the database. When no errors are raised, the revision of the new\n document is reported for all documents.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n <pre>\n [{\n    \"id\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n    \"rev\":\"2-ff7b85665c4c297838963c80ecf481a3\"\n  },\n  {\n    \"id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n    \"rev\":\"2-9d5401898196997853b5ac4163857a29\"\n  },\n  {\n    \"id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n    \"rev\":\"2-cbdef49ef3ddc127eff86350844a6108\"\n  },\n  {\n    \"id\": \"b675e932-9bb6-4fc9-b889-50238ac3512b\",\n    \"rev\":\"2-12356bafb1232167befabb32127823943d\"\n  }]\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Cloudant will only guarantee that some of the documents will be\n saved when you send the request. The response will contain the list of\n documents successfully inserted or updated during the process.\n In the event of a crash, some of the documents may have been successfully\n saved, and some will have been lost.\n The response structure will indicate whether the document was updated by\n supplying the <code>rev</code> parameter indicating a new document revision\n was created. If the update failed, then you will get an error of type\n <code>conflict</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example:\n <pre>\n [\n   {\n     \"id\":\"FishStew\",\n     \"error\":\"conflict\",\n     \"reason\":\"Document update conflict.\"\n   },\n   {\n     \"id\":\"LambStew\",\n     \"error\":\"conflict\",\n     \"reason\":\"Document update conflict.\"\n   },\n   {\n     \"id\":\"7f7638c86173eb440b8890839ff35433\",\n     \"error\":\"conflict\",\n     \"reason\":\"Document update conflict.\"\n   }\n ]\n </pre>\n In this case no new revision has been created and you will need to submit\n the document update with the correct revision tag, to update the document.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The exact structure of each document in the returned array is:\n <ul>\n   <li>id: the document ID</li>\n   <li>rev: the new document revision, if a new revision was created</li>\n   <li>error: the error type, if an error was raised</li>\n   <li>reason: a description of the raised error, if an error was raised</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The error type can either be conflict or forbidden. The first type means that\n the document as submitted is in conflict. The new revision has not been created\n and you will need to re-submit the document to the database. Entries with forbidden\n error type indicate that the validation routine applied to the document during submission\n has returned an error.</p>\n", "summary" : "<p>  Creates, updates or deletes multiple documents with a single request.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "documents", "type" : "object()", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An sequence of documents</div>" } ], "returns" : { "type" : "array()", "description" : "An object describing the performed operations" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "bulk-crud", "qname" : "cloudant:bulk-crud", "signature" : "($connection as anyURI, $database as string, $documents as object()*, $options as object()) as array()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates, updates or deletes multiple documents with a single request.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When creating new documents the document ID is optional. For updating\n existing documents, you must provide the document ID, revision information,\n and new document values. To delete existing documents, you must provide the\n document ID, revision information and add a field <code>_deleted</code> having\n value <code>true</code>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>all_or_nothing: sets the database commit mode to use all-or-nothing\n   semantics (boolean, default: false).</li>\n   <li>database-owner: specifies the database owner (string, default: connection\n   user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:bulk-crud($connection, \"db\",\n (\n   {\n     \"name\":\"Nicholas\",\n     \"age\":45,\n     \"gender\":\"male\",\n   },\n   {\n     \"name\":\"Taylor\",\n     \"age\":50,\n     \"gender\":\"male\",\n     \"_id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n   },\n   {\n     \"name\":\"Owen\",\n     \"age\":51,\n     \"gender\":\"male\",\n     \"_id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"_rev\":\"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n   },\n   {\n     \"_id\":\"b675e932-9bb6-4fc9-b889-50238ac3512b\",\n     \"_rev\":\"2-abd3942fdab3515bfed224abed2451feb\",\n     \"_deleted\": true\n   }\n ),{\"database-owner\": \"username\"})\n </pre>\n requires to insert the first document with a system-generated identifier, to\n insert the second one with a user-specified identifier, to update the third\n one and, finally, to delete the last one.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The JSON returned by the_bulk_docs operation consists of an array\n of JSON structures, one for each document in the original submission.\n The returned JSON structure should be examined to ensure that all of\n the documents submitted in the original request were successfully added\n to the database. When no errors are raised, the revision of the new\n document is reported for all documents.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n <pre>\n [{\n    \"id\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n    \"rev\":\"2-ff7b85665c4c297838963c80ecf481a3\"\n  },\n  {\n    \"id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n    \"rev\":\"2-9d5401898196997853b5ac4163857a29\"\n  },\n  {\n    \"id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n    \"rev\":\"2-cbdef49ef3ddc127eff86350844a6108\"\n  },\n  {\n    \"id\": \"b675e932-9bb6-4fc9-b889-50238ac3512b\",\n    \"rev\":\"2-12356bafb1232167befabb32127823943d\"\n  }]\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Cloudant will only guarantee that some of the documents will be\n saved when you send the request. The response will contain the list of\n documents successfully inserted or updated during the process.\n In the event of a crash, some of the documents may have been successfully\n saved, and some will have been lost.\n The response structure will indicate whether the document was updated by\n supplying the <code>rev</code> parameter indicating a new document revision\n was created. If the update failed, then you will get an error of type\n <code>conflict</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example:\n <pre>\n [\n   {\n     \"id\":\"FishStew\",\n     \"error\":\"conflict\",\n     \"reason\":\"Document update conflict.\"\n   },\n   {\n     \"id\":\"LambStew\",\n     \"error\":\"conflict\",\n     \"reason\":\"Document update conflict.\"\n   },\n   {\n     \"id\":\"7f7638c86173eb440b8890839ff35433\",\n     \"error\":\"conflict\",\n     \"reason\":\"Document update conflict.\"\n   }\n ]\n </pre>\n In this case no new revision has been created and you will need to submit\n the document update with the correct revision tag, to update the document.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The exact structure of each document in the returned array is:\n <ul>\n   <li>id: the document ID</li>\n   <li>rev: the new document revision, if a new revision was created</li>\n   <li>error: the error type, if an error was raised</li>\n   <li>reason: a description of the raised error, if an error was raised</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The error type can either be conflict or forbidden. The first type means that\n the document as submitted is in conflict. The new revision has not been created\n and you will need to re-submit the document to the database. Entries with forbidden\n error type indicate that the validation routine applied to the document during submission\n has returned an error.</p>\n", "summary" : "<p>  Creates, updates or deletes multiple documents with a single request.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "documents", "type" : "object()", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An sequence of documents</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "array()", "description" : "An object describing the performed operations" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "commit-changes", "qname" : "cloudant:commit-changes", "signature" : "($connection as anyURI, $database as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Commits any recent changes to the specified database to disk.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:commit-changes($connection, \"db\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"ok\" : true,\n   \"instance_start_time\" : \"0\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Commits any recent changes to the specified database to disk.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "object()", "description" : "An object reporting the instance start time" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NOT-EXISTS The specified database does not exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "commit-changes", "qname" : "cloudant:commit-changes", "signature" : "($connection as anyURI, $database as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Commits any recent changes to the specified database to disk.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection\n   user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:commit-changes($connection, \"db\", {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"ok\" : true,\n   \"instance_start_time\" : \"0\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Commits any recent changes to the specified database to disk.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object reporting the instance start time" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NOT-EXISTS The specified database does not exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 0, "name" : "connect", "qname" : "cloudant:connect", "signature" : "() as anyURI", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Opens a connection to Cloudant using the default credentials.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The function returns an opaque URI that can represents the connection.\n This URI has to be passed to other functions of this module that require\n a <code>$connection</code> parameter as a first argument.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function requires to specify an options object.\n The following options are supported:\n <ul>\n   <li>username: the username used for connecting (string, mandatory).</li>\n   <li>password: the password used for connecting (string, mandatory).</li>\n   <li>default-database-owner: the default database owner which will be\n       used when calling the other module functions (string).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:connect()</pre>.\n </p>\n", "summary" : "<p>  Opens a connection to Cloudant using the default credentials.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "anyURI", "description" : "An identifier that represents the connection to the server" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CREDENTIALS Missing or invalid credentials</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authentication error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "connect", "qname" : "cloudant:connect", "signature" : "($credentials as item()) as anyURI", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Opens a connection to Cloudant using the specified credentials.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The function returns an opaque URI that can represents the connection.\n This URI has to be passed to other functions of this module that require\n a <code>$connection</code> parameter as a first argument.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The $credentials parameter is used to specify the connection information.\n If a string is used, then the function will interpret it as the name of\n a credential in the Cloudant category.\n If an object is used, then the function will open a connection using it.\n The object structure is the following:\n <ul>\n   <li>username: the username used for connecting (string, mandatory).</li>\n   <li>password: the password used for connecting (string, mandatory).</li>\n   <li>default-database-owner: the default database owner which will be\n       used when calling the other module functions (string, optional).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example, using stored credential:\n <pre>cloudant:connect(\"credentials-name\")</pre>\n For example, specifying the connection information:\n <pre>cloudant:connect(\n   {\n     \"username\": \"user\",\n     \"password: \"pass\",\n     \"owner\": \"another-user\"\n   })</pre>.\n </p>\n", "summary" : "<p>  Opens a connection to Cloudant using the specified credentials.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "credentials", "type" : "item()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The connection specification</div>" } ], "returns" : { "type" : "anyURI", "description" : "An identifier that represents the connection to the server" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authentication error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CREDENTIALS Missing or malformed credentials</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "create-database", "qname" : "cloudant:create-database", "signature" : "($connection as anyURI, $database as string) as empty-sequence()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates a new database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The database name must be composed of one or more of the following\n characters:\n <ul>\n  <li>Lowercase characters (a-z).</li>\n  <li>Digits (0-9).</li>\n  <li>Any of the characters: _,$,(,),+,- and /.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-database($connection, \"db\")</pre>.\n </p>\n", "summary" : "<p>  Creates a new database.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "Empty sequence" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-EXISTS Database already exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "create-document", "qname" : "cloudant:create-document", "signature" : "($connection as anyURI, $database as string, $document as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates a new document in the specified database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates a new document in the specified database,\n using the supplied JSON document structure. If the JSON\n structure includes the _id field, then the document will\n be created with the specified document ID. If the _id\n field is not specified, a new unique ID will be generated.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">You can include one or more attachments with a given document\n by incorporating the attachment information within the JSON of\n the document. This provides a simpler alternative to loading\n documents with attachments than making a separate call.\n To do so add you can add the <code>_attachments</code> object\n field to the document. It can have one ore more fields, each\n defining a different attachment.\n The name of the field is the name of the attachment.\n Its value is an object containing the following fields:\n <ul>\n  <li>content_type: MIME Content type string</li>\n  <li>data: File attachment content, Base64 encoded</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-document($connection, \"db\",\n   {\n     \"_id\" : \"FishStew\",\n     \"servings\" : 4,\n     \"subtitle\" : \"Delicious with fresh bread\",\n     \"title\" : \"Fish Stew\"\n     \"_attachments\" : {\n       \"styling.css\" : {\n       \"content-type\" : \"text/css\",\n       \"data\" : \"cCB7IGZvbnQtc2l6ZTogMTJwdDsgfQo=\"\n       }\n     }\n   })\n </pre>\n creates a document with an attachment named <code>styling.css</code>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creating a design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To create a design document the <code>_id</code> field must be present and must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example, the following expression creates a design document\n <pre>cloudant:create-document($connection, \"db\",\n   {\n     \"_id\": \"_design/DesDocID\",\n     \"views\": {\n       \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n       }\n     },\n     \"indexes\": {\n       \"mysearch\" : {\n         \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n         \"index\": \"function(doc){ ... }\"\n       },\n     }\n   }, {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned JSON object will report the new document revision\n and has the following form:\n <pre>\n {\n   \"id\":\"64575eef70ab90a2b8d55fc09e00440d\",\n   \"ok\":true,\n   \"rev\":\"1-9c65296036141e575d32ba9c034dd3ee\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Creates a new document in the specified database.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document</div>" } ], "returns" : { "type" : "object()", "description" : "An object which contains the document id and revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT Document creation conflict</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "create-document", "qname" : "cloudant:create-document", "signature" : "($connection as anyURI, $database as string, $document as object(), $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates a new document in the specified database</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates a new document in the specified database,\n using the supplied JSON document structure. If the JSON\n structure includes the _id field, then the document will\n be created with the specified document ID. If the _id\n field is not specified, a new unique ID will be generated.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">You can include one or more attachments with a given document\n by incorporating the attachment information within the JSON of\n the document. This provides a simpler alternative to loading\n documents with attachments than making a separate call.\n To do so add you can add the <code>_attachments</code> object\n field to the document. It can have one ore more fields, each\n defining a different attachment.\n The name of the field is the name of the attachment.\n Its value is an object containing the following fields:\n <ul>\n  <li>content_type: MIME Content type string</li>\n  <li>data: File attachment content, Base64 encoded</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-document($connection, \"db\",\n   {\n     \"_id\" : \"FishStew\",\n     \"servings\" : 4,\n     \"subtitle\" : \"Delicious with fresh bread\",\n     \"title\" : \"Fish Stew\"\n     \"_attachments\" : {\n       \"styling.css\" : {\n       \"content-type\" : \"text/css\",\n       \"data\" : \"cCB7IGZvbnQtc2l6ZTogMTJwdDsgfQo=\"\n       }\n     }\n   }, {\"database-owner\": \"username\"})\n </pre>\n creates a document with an attachment named <code>styling.css</code>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>batch: requires batch mode for insertions (string, allowed value: \"ok\")</li>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">You can write documents to the database at a higher rate\n by using the batch option. This collects document writes\n together in memory (on a user-by-user basis) before they are\n committed to disk. This increases the risk of the documents\n not being stored in the event of a failure, since the documents\n are not written to disk immediately.</p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creating a design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To create a design document the <code>_id</code> field must be present and must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example, the following expression creates a design document\n <pre>cloudant:create-document($connection, \"db\",\n   {\n     \"_id\": \"_design/DesDocID\",\n     \"views\": {\n       \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n       }\n     },\n     \"indexes\": {\n       \"mysearch\" : {\n         \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n         \"index\": \"function(doc){ ... }\"\n       },\n     }\n   }, {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned JSON object will report the new document revision\n and has the following form:\n <pre>\n {\n   \"id\":\"64575eef70ab90a2b8d55fc09e00440d\",\n   \"ok\":true,\n   \"rev\":\"1-9c65296036141e575d32ba9c034dd3ee\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Creates a new document in the specified database \n  Creates a new document in the specified database,\n using the supplied JSON document structure.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object which contains the document id and revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT Document creation conflict</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 7, "name" : "create-or-update-attachment", "qname" : "cloudant:create-or-update-attachment", "signature" : "($connection as anyURI, $database as string, $document-id as string, $document-rev as string, $attachment-name as string, $media-type as string, $attachment as atomic) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates or updates a document attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest document revision must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-attachment($connection, \"db\", \"FishStew\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\", \"text/plain\",\n   \"AttachmentContent\")</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creating or updating a design document attachment.</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To create or update a design document attachment the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-attachment($connection, \"db\", \"_design/DesDocId\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\", \"text/plain\",\n   \"AttachmentContent\")</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the document id and its new\n revision, as follows:\n <pre>\n {\n   \"id\":\"FishStew\",\n   \"ok\":true,\n   \"rev\":\"9-247bb19a41bfd9bfdaf5ee6e2e05be74\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Creates or updates a document attachment.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "document-rev", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document revision</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the attachment</div>" }, { "name" : "media-type", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The media-type of the attachment</div>" }, { "name" : "attachment", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">-name The name of the attachment</div>" } ], "returns" : { "type" : "object()", "description" : "An object containing the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-TYPE Attachment type must be string, base64Binary or hexBinary</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 8, "name" : "create-or-update-attachment", "qname" : "cloudant:create-or-update-attachment", "signature" : "($connection as anyURI, $database as string, $document-id as string, $document-rev as string, $attachment-name as string, $media-type as string, $attachment as atomic, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates or updates a document attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest document revision must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-attachment($connection, \"db\", \"FishStew\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\", \"text/plain\",\n   \"AttachmentContent\", {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creating or updating a design document attachment.</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To create or update a design document attachment the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-attachment($connection, \"db\", \"_design/DesDocId\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\", \"text/plain\",\n   \"AttachmentContent\", {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the document id and its new\n revision, as follows:\n <pre>\n {\n   \"id\":\"FishStew\",\n   \"ok\":true,\n   \"rev\":\"9-247bb19a41bfd9bfdaf5ee6e2e05be74\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Creates or updates a document attachment.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "document-rev", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document revision</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the attachment</div>" }, { "name" : "media-type", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The media-type of the attachment</div>" }, { "name" : "attachment", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">-name The name of the attachment</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object containing the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-TYPE Attachment type must be string, base64Binary or hexBinary</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "create-or-update-document", "qname" : "cloudant:create-or-update-document", "signature" : "($connection as anyURI, $database as string, $document as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates or updates a document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When creating a new document, the <code>_id</code> field must\n be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-document($connection, \"db\",\n   {\n     \"name\":\"Hannah\",\n     \"age\":120,\n     \"gender\":\"female\",\n     \"_id\":\"DocID\"\n   })</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When updating a document, the <code>_id</code> and the\n <code>_rev</code> field, which contains the last document revision,\n must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-document($connection, \"db\",\n   {\n     \"name\":\"Hannah\",\n     \"age\":40,\n     \"gender\":\"female\",\n     \"_id\":\"DocID\",\n     \"_rev\":\"1-764b9b11845fd0b73cfa0e61acc74ecf\"\n   })</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creating or updating a design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To create or update a design document the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example, the following expression creates a design document\n <pre>cloudant:create-or-update-document($connection, \"db\",\n   {\n     \"_id\": \"_design/DesDocID\",\n     \"views\": {\n       \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n       }\n     },\n     \"indexes\": {\n       \"mysearch\" : {\n         \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n         \"index\": \"function(doc){ ... }\"\n       },\n     }\n   })\n </pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example, the following expression updates a design document\n <pre>cloudant:create-or-update-document($connection, \"db\",\n   {\n     \"_id\": \"_design/DesDocID\",\n     \"_rev\": \"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n     \"views\": {\n       \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n       }\n     },\n     \"indexes\": {\n       \"mysearch\" : {\n         \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n         \"index\": \"function(doc){ ... }\"\n       },\n     }\n   })\n </pre>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The meaning of the fields in the design document is the following:\n <ul>\n   <li>_id: document ID</li>\n   <li>_rev: document revision</li>\n   <li>views: object defining the views. Each field defines a different view.\n       The field name is the name of the view and has the following content:\n     <ul>\n       <li>map: view map function</li>\n       <li>reduce: view reduce function (optional)</li>\n     </ul>\n   </li>\n   <li>indexes: object defining the view indexes. Each field defines a different index.\n       The field name is the name of the index and has the following content:\n     <ul>\n       <li>analyzer: Name of the analyzer to be used or an object with the\n       following fields:\n         <ul>\n           <li>name: Name of the analyzer</li>\n           <li>stopwords: An array of stop words. Stop words are words that\n           should not be indexed.</li>\n         </ul>\n       </li>\n       <li>index: Function that handles the indexing</li>\n     </ul>\n   </li>\n </ul>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the returned object is the following and contains\n the document id and revision.\n <pre>\n {\n   \"ok\":true,\n   \"id\":\"DocID\",\n   \"rev\":\"1-764b9b11845fd0b73cfa0e61acc74ecf\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Creates or updates a document.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document</div>" } ], "returns" : { "type" : "object()", "description" : "An object which specifies the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT-MALFORMED Malformed document object</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "create-or-update-document", "qname" : "cloudant:create-or-update-document", "signature" : "($connection as anyURI, $database as string, $document as object(), $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creates or updates a document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When creating a new document, the <code>_id</code> field must\n be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-document($connection, \"db\", \"DocID\",\n   {\n     \"name\":\"Hannah\",\n     \"age\":120,\n     \"gender\":\"female\",\n     \"_id\":\"DocID\"\n   }, {\"database-owner\": \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When updating a document, the <code>_id</code> and the\n <code>_rev</code> field, which contains the last document revision,\n must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:create-or-update-document($connection, \"db\", \"DocID\",\n   {\n     \"name\":\"Hannah\",\n     \"age\":40,\n     \"gender\":\"female\",\n     \"_id\":\"DocID\",\n     \"_rev\":\"1-764b9b11845fd0b73cfa0e61acc74ecf\"\n   }, {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Creating or updating a design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To create or update a design document the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example, the following expression creates a design document\n <pre>cloudant:create-or-update-document($connection, \"db\",\n   {\n     \"_id\": \"_design/DesDocID\",\n     \"views\": {\n       \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n       }\n     },\n     \"indexes\": {\n       \"mysearch\" : {\n         \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n         \"index\": \"function(doc){ ... }\"\n       },\n     }\n   }, {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:create-or-update-document($connection, \"db\",\n   {\n     \"_id\": \"_design/DesDocID\",\n     \"_rev\": \"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n     \"views\": {\n       \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n       }\n     },\n     \"indexes\": {\n       \"mysearch\" : {\n         \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n         \"index\": \"function(doc){ ... }\"\n       },\n     }\n   }, {\"database-owner\": \"username\"})\n </pre>.\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The meaning of the fields in the design document is the following:\n <ul>\n   <li>_id: document ID</li>\n   <li>_rev: document revision</li>\n   <li>views: object defining the views. Each field defines a different view.\n       The field name is the name of the view and has the following content:\n     <ul>\n       <li>map: view map function</li>\n       <li>reduce: view reduce function (optional)</li>\n     </ul>\n   </li>\n   <li>indexes: object defining the view indexes. Each field defines a different index.\n       The field name is the name of the index and has the following content:\n     <ul>\n       <li>analyzer: Name of the analyzer to be used or an object with the\n       following fields:\n         <ul>\n           <li>name: Name of the analyzer</li>\n           <li>stopwords: An array of stop words. Stop words are words that\n           should not be indexed.</li>\n         </ul>\n       </li>\n       <li>index: Function that handles the indexing</li>\n     </ul>\n   </li>\n </ul>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the returned object is the following and contains\n the document id and revision.\n <pre>\n {\n   \"ok\":true,\n   \"id\":\"DocID\",\n   \"rev\":\"1-764b9b11845fd0b73cfa0e61acc74ecf\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Creates or updates a document.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object which specifies the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT-MALFORMED Malformed document object</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "database-info-nondeterministic", "qname" : "cloudant:database-info-nondeterministic", "signature" : "($connection as anyURI, $database as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns information about a database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#database-info-2\">database-info#2</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns information about a database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "object()", "description" : "An object describing the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "database-info-nondeterministic", "qname" : "cloudant:database-info-nondeterministic", "signature" : "($connection as anyURI, $database as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns information about a database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#database-info-3\">database-info#3</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns information about a database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> a database name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object describing the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "database-info", "qname" : "cloudant:database-info", "signature" : "($connection as anyURI, $database as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns information about a database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:database-info($connection, \"db\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"update_seq\": \"0-g1AAAADneJzLYWBg...\",\n   \"db_name\": \"db\",\n   \"purge_seq\": 0,\n   \"other\": {\n     \"data_size\": 0\n   },\n   \"doc_del_count\": 0,\n   \"doc_count\": 0,\n   \"disk_size\": 316,\n   \"disk_format_version\": 5,\n   \"compact_running\": false,\n   \"instance_start_time\": \"0\"\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>compact_running: set to true if the database compaction routine is\n  operating on this database.</li>\n  <li>db_name: the name of the database.</li>\n  <li>disk_format_version: the version of the physical format used for the data\n  when it is stored on disk.</li>\n  <li>disk_size: size in bytes of the data as stored on the disk. Views indexes\n  are not included in the calculation.</li>\n  <li>doc_count: a count of the documents in the specified database.</li>\n  <li>doc_del_count: number of deleted documents.</li>\n  <li>instance_start_time: always 0.</li>\n  <li>purge_seq: the number of purge operations on the database.</li>\n  <li>update_seq: the current number of updates to the database.</li>\n  <li>other: JSON object containing a data_size field.</li>\n </ul>\n </p>\n", "summary" : "<p>  Returns information about a database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "object()", "description" : "An object describing the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "database-info", "qname" : "cloudant:database-info", "signature" : "($connection as anyURI, $database as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns information about a database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:database-info($connection, \"db\", {\"database-owner\": \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"update_seq\": \"0-g1AAAADneJzLYWBg...\",\n   \"db_name\": \"db\",\n   \"purge_seq\": 0,\n   \"other\": {\n     \"data_size\": 0\n   },\n   \"doc_del_count\": 0,\n   \"doc_count\": 0,\n   \"disk_size\": 316,\n   \"disk_format_version\": 5,\n   \"compact_running\": false,\n   \"instance_start_time\": \"0\"\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>compact_running: set to true if the database compaction routine is\n  operating on this database.</li>\n  <li>db_name: the name of the database.</li>\n  <li>disk_format_version: the version of the physical format used for the data\n  when it is stored on disk.</li>\n  <li>disk_size: size in bytes of the data as stored on the disk. Views indexes\n  are not included in the calculation.</li>\n  <li>doc_count: a count of the documents in the specified database.</li>\n  <li>doc_del_count: number of deleted documents.</li>\n  <li>instance_start_time: always 0.</li>\n  <li>purge_seq: the number of purge operations on the database.</li>\n  <li>update_seq: the current number of updates to the database.</li>\n  <li>other: JSON object containing a data_size field.</li>\n </ul>\n </p>\n", "summary" : "<p>  Returns information about a database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> a database name</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object describing the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "delete-attachment", "qname" : "cloudant:delete-attachment", "signature" : "($connection as anyURI, $database as string, $document-id as string, $document-rev as string, $attachment-name as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes the specified attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest document revision must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:delete-attachment($connection, \"db\", \"FishStew\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\")</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deleting a design document attachment.</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To delete a design document attachment the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:delete-attachment($connection, \"db\", \"_design/DesDocId\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\",\n   \"AttachmentName\", \"text/plain\", \"AttachmentContent\")</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the document id and its new\n revision, as follows:\n <pre>\n {\n   \"id\":\"FishStew\",\n   \"ok\":true,\n   \"rev\":\"9-247bb19a41bfd9bfdaf5ee6e2e05be74\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Deletes the specified attachment.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "document-rev", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document revision</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the attachment</div>" } ], "returns" : { "type" : "object()", "description" : "An object containing the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-NOT-EXISTS Attachment does not exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-TYPE Attachment type must be string, base64Binary or hexBinary</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 6, "name" : "delete-attachment", "qname" : "cloudant:delete-attachment", "signature" : "($connection as anyURI, $database as string, $document-id as string, $document-rev as string, $attachment-name as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes the specified attachment.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest document revision must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:delete-attachment($connection, \"db\", \"FishStew\",\n \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\",\n {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deleting a design document attachment.</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To delete a design document attachment the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:delete-attachment($connection, \"db\", \"_design/DesDocId\",\n   \"8-7c4740b4dcf26683e941d6641c00c39d\", \"AttachmentName\", \"text/plain\",\n   \"AttachmentContent\", {\"database-owner\": \"username\"})</pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the document id and its new\n revision, as follows:\n <pre>\n {\n   \"id\":\"FishStew\",\n   \"ok\":true,\n   \"rev\":\"9-247bb19a41bfd9bfdaf5ee6e2e05be74\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Deletes the specified attachment.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "document-rev", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document revision</div>" }, { "name" : "attachment-name", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the attachment</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object containing the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-NOT-EXISTS Attachment does not exists</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:ATTACHMENT-TYPE Attachment type must be string, base64Binary or hexBinary</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "delete-database", "qname" : "cloudant:delete-database", "signature" : "($connection as anyURI, $database as string) as empty-sequence()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes a database and all the documents and attachments contained in it.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The database name must be composed of one or more of the following characters:\n <ul>\n  <li>Lowercase characters (a-z).</li>\n  <li>Digits (0-9).</li>\n  <li>Any of the characters: _,$,(,),+,- and /.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:delete-database($connection, \"db\")</pre>.\n </p>\n", "summary" : "<p>  Deletes a database and all the documents and attachments contained in it.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "Empty sequence" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NOT-EXISTS Database does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "delete-document", "qname" : "cloudant:delete-document", "signature" : "($connection as anyURI, $database as string, $document-id as string, $document-rev as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes the specified document from a database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest document revision must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:delete-document($connection, \"db\", \"DocID\", \"3-7c4740b4dcf26683e941d6641c00c39d\")\n </pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deleting a design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To delete a design document the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:delete-document($connection, \"db\", \"_design/DesDocID\", \"3-7c4740b4dcf26683e941d6641c00c39d\")\n </pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the document id and its\n new revision, as follows:\n <pre>\n {\n   \"id\":\"DocID\",\n   \"ok\":true,\n   \"rev\":\"4-2719fd41187c60762ff584761b714cfb\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Deletes the specified document from a database.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "document-rev", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document revision</div>" } ], "returns" : { "type" : "object()", "description" : "An object which specifies the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:REVISION Specified revision is missing, invalid or not the latest.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "delete-document", "qname" : "cloudant:delete-document", "signature" : "($connection as anyURI, $database as string, $document-id as string, $document-rev as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes the specified document from a database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest document revision must be specified.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:delete-document($connection, \"db\", \"DocID\", \"3-7c4740b4dcf26683e941d6641c00c39d\",\n   {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deleting a design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To delete a design document the document id must\n start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:delete-document($connection, \"db\", \"_design/DesDocID\", \"3-7c4740b4dcf26683e941d6641c00c39d\",\n   {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return value</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object reports the document id and its\n new revision, as follows:\n <pre>\n {\n   \"id\":\"DocID\",\n   \"ok\":true,\n   \"rev\":\"4-2719fd41187c60762ff584761b714cfb\"\n }\n </pre>\n </p>\n", "summary" : "<p>  Deletes the specified document from a database.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "document-rev", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document revision</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object which specifies the document id and its new revision" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:REVISION Specified revision is missing, invalid or not the latest.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "document-info-nondeterministic", "qname" : "cloudant:document-info-nondeterministic", "signature" : "($connection as anyURI, $database as string, $document-id as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns the latest revision and size for a given document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#document-info-3\">document-info#3</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns the latest revision and size for a given document.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" } ], "returns" : { "type" : "object()", "description" : "An object specifying the document id, revision and size" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "document-info-nondeterministic", "qname" : "cloudant:document-info-nondeterministic", "signature" : "($connection as anyURI, $database as string, $document-id as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns the latest revision and size for a given document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#document-info-4\">document-info#4</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns the latest revision and size for a given document.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object specifying the document id, revision and size" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "document-info", "qname" : "cloudant:document-info", "signature" : "($connection as anyURI, $database as string, $document-id as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns the latest revision and size for a given document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document-info($connection, \"db\", \"DocID\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the returned object is the following and contains\n the document id, latest revision and size.\n <pre>\n {\n   \"ok\": true,\n   \"id\": \"DocID\",\n   \"rev\": \"1-764b9b11845fd0b73cfa0e61acc74ecf\",\n   \"size\": 500\n }\n </pre>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returning the latest revision and size for a given design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To return the latest revision and size of a design document the document\n id must start with\n <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document-info($connection, \"db\", \"_design/DesDocID\")</pre>.\n </p>\n", "summary" : "<p>  Returns the latest revision and size for a given document.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" } ], "returns" : { "type" : "object()", "description" : "An object specifying the document id, revision and size" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "document-info", "qname" : "cloudant:document-info", "signature" : "($connection as anyURI, $database as string, $document-id as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns the latest revision and size for a given document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:document-info($connection, \"db\", \"DocID\", {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the returned object is the following and contains\n the document id, latest revision and size.\n <pre>\n {\n   \"ok\": true,\n   \"id\": \"DocID\",\n   \"rev\": \"1-764b9b11845fd0b73cfa0e61acc74ecf\",\n   \"size\": 500\n }\n </pre>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returning the latest revision and size for a given design document</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To return the latest revision and size of a design document the document\n id must start with <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:document-info($connection, \"db\", \"_design/DesDocID\", {\"database-owner\": \"username\"})\n </pre>.\n </p>\n", "summary" : "<p>  Returns the latest revision and size for a given document.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object specifying the document id, revision and size" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "document-nondeterministic", "qname" : "cloudant:document-nondeterministic", "signature" : "($connection as anyURI, $database as string, $document-id as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves a document from the specified database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#document-3\">document#3</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Retrieves a document from the specified database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "document-nondeterministic", "qname" : "cloudant:document-nondeterministic", "signature" : "($connection as anyURI, $database as string, $document-id as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves a document from the specified database</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#document-4\">document#4</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Retrieves a document from the specified database \n  This function has the same semantics as  document#4 ,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "document", "qname" : "cloudant:document", "signature" : "($connection as anyURI, $database as string, $document-id as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves a document from the specified database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The latest revision of the document will be returned.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">If the document includes attachments, then the\n returned structure will contain a summary of the\n attachments associated with the document, but not the\n attachment data itself.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document($connection, \"db\", \"DocID\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned JSON object will contain the document\n and has the following format:\n <pre>\n {\n   \"_id\": \"DocID\",\n   \"_rev\": \"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n   \"name\": \"Anna\",\n   \"age\": 89,\n   \"gender\": \"female\",\n   \"_attachments\": {\n     \"my attachment\": {\n       \"content_type\": \"application/json; charset=UTF-8\",\n       \"revpos\": 2,\n       \"digest\": \"md5-37IZysiyWLRWx31J/1WQHw==\",\n       \"length\": 12,\n       \"stub\": true\n       }\n     }\n   }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The meaning of the fields in the returned object is the following:\n <ul>\n   <li>_id: document ID</li>\n   <li>_rev: document revision</li>\n   <li>attachments: document attachments (optional), each field denotes the name\n       of a different attachment\n     <ul>\n       <li>content_type: attachment MIME Content type string</li>\n       <li>length: attachment length in bytes</li>\n       <li>revpos: revision where this attachment exists</li>\n       <li>digest: MD5 checksum of the attachment</li>\n       <li>stub: indicates whether the attachment is a stub</li>\n    </ul>\n  </li>\n </ul>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieving a design document from the specified database</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To retrieve a design document the document id must start with\n <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document($connection, \"db\", \"_design/DesDocID\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">A JSON object with the following format is returned:\n <pre>\n {\n  \"_id\": \"_design/DesDocID\",\n   \"views\": {\n     \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n     }\n   },\n   \"indexes\": {\n     \"mysearch\" : {\n       \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n       \"index\": \"function(doc){ ... }\"\n     },\n   }\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The meaning of the fields in the returned object is the following:\n <ul>\n   <li>_id: document ID</li>\n   <li>_rev: document revision</li>\n   <li>views: object defining the views. Each field defines a different view.\n       The field name is the name of the view and has the following content:\n     <ul>\n       <li>map: view map function</li>\n       <li>reduce: view reduce function (optional)</li>\n     </ul>\n   </li>\n   <li>indexes: object defining the view indexes. Each field defines a different index.\n       The field name is the name of the index and has the following content:\n     <ul>\n       <li>analyzer: Name of the analyzer to be used or an object with the\n       following fields:\n         <ul>\n           <li>name: Name of the analyzer</li>\n           <li>stopwords: An array of stop words. Stop words are words that\n           should not be indexed.</li>\n         </ul>\n       </li>\n       <li>index: Function that handles the indexing</li>\n     </ul>\n   </li>\n </ul>\n </p>\n", "summary" : "<p>  Retrieves a document from the specified database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "document", "qname" : "cloudant:document", "signature" : "($connection as anyURI, $database as string, $document-id as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieves a document from the specified database</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Unless you request a specific revision, the latest\n revision of the document will always be returned.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>conflict: returns the conflict tree for the document (boolean)</li>\n   <li>rev: specifies the revision to return (string)</li>\n   <li>revs: return a list of the revisions for the document (boolean)</li>\n   <li>revs_info: return a list of detailed revision information for the document\n   (boolean, allowed value: true)</li>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">If the document includes attachments, then the\n returned structure will contain a summary of the\n attachments associated with the document, but not the\n attachment data itself.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>\n cloudant:document($connection, \"db\", \"DocID\", {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned JSON object will contain the document\n and has the following format:\n <pre>\n {\n   \"_id\": \"DocID\",\n   \"_rev\": \"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n   \"name\": \"Anna\",\n   \"age\": 89,\n   \"gender\": \"female\",\n   \"_attachments\": {\n     \"my attachment\": {\n       \"content_type\": \"application/json; charset=UTF-8\",\n       \"revpos\": 2,\n       \"digest\": \"md5-37IZysiyWLRWx31J/1WQHw==\",\n       \"length\": 12,\n       \"stub\": true\n       }\n     }\n   }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The meaning of the fields in the returned object is the following:\n <ul>\n   <li>_id: document ID</li>\n   <li>_rev: document revision</li>\n   <li>attachments: document attachments (optional), each field denotes the name\n       of a different attachment:\n   <ul>\n     <li>content_type: attachment MIME Content type string</li>\n     <li>length: attachment length in bytes</li>\n     <li>revpos: revision where this attachment exists</li>\n     <li>digest: MD5 checksum of the attachment</li>\n     <li>stub: indicates whether the attachment is a stub</li>\n  </ul>\n  </li>\n </ul>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Retrieving a design document from the specified database</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To retrieve a design document the document id must start with\n <code>_design/</code>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document($connection, \"db\", \"_design/DesDocID\", {\"database-owner\": \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">A JSON object with the following format is returned:\n <pre>\n {\n  \"_id\": \"_design/DesDocID\",\n  \"_rev\": \"2-f29c836d0bedc4b4b95cfaa6d99e95df\",\n   \"views\": {\n     \"view1\": {\n       \"map\":\"function(doc){emit(doc.field, 1)}\",\n       \"reduce\": \"function(key, value, rereduce){return sum(values)}\"\n     }\n   },\n   \"indexes\": {\n     \"mysearch\" : {\n       \"analyzer\": {\"name\": \"portuguese\", \"stopwords\":[\"foo\", \"bar, \"baz\"]},\n       \"index\": \"function(doc){ ... }\"\n     },\n   }\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n The meaning of the fields in the returned object is the following:\n <ul>\n   <li>_id: document ID</li>\n   <li>_rev: document revision</li>\n   <li>views: object defining the views. Each field defines a different view.\n       The field name is the name of the view and has the following content:\n     <ul>\n       <li>map: view map function</li>\n       <li>reduce: view reduce function (optional)</li>\n     </ul>\n   </li>\n   <li>indexes: object defining the view indexes. Each field defines a different index.\n       The field name is the name of the index and has the following content:\n     <ul>\n       <li>analyzer: Name of the analyzer to be used or an object with the\n       following fields:\n         <ul>\n           <li>name: Name of the analyzer</li>\n           <li>stopwords: An array of stop words. Stop words are words that\n           should not be indexed.</li>\n         </ul>\n       </li>\n       <li>index: Function that handles the indexing</li>\n     </ul>\n   </li>\n </ul>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Getting a List of Revisions</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">You can obtain a list of the revisions for a given document\n by the revs option.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document($connection, \"db\", \"DocID\", {\"revs\": true})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned JSON object includes the original document and\n a <code>_revisions</code> structure that includes the revision\n information:\n <pre>\n {\n   \"servings\":4,\n   \"subtitle\":\"Delicious with a green salad\",\n   \"_id\":\"FishStew\",\n   \"title\":\"Irish Fish Stew\",\n   \"_revisions\":\n   {\n     \"ids\": [\n       \"a1a9b39ee3cc39181b796a69cb48521c\",\n       \"7c4740b4dcf26683e941d6641c00c39d\",\n       \"9c65296036141e575d32ba9c034dd3ee\"\n      ],\n     \"start\":3\n  },\n  \"_rev\":\"3-a1a9b39ee3cc39181b796a69cb48521c\"\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The meaning of the additional fields is the following:\n <ul>\n   <li>_revisions: document revisions</li>\n   <li>_ids: array of valid revision IDs, in reverse order (latest first)</li>\n   <li>start: prefix number for the latest revision</li>\n </ul>\n </p>\n <h4 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Obtaining an Extended Revision History</h4>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">You can get additional information about the revisions for a given document\n with the <code>revs_info</code> option.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:document($connection, \"db\", \"DocID\", {\"revs_info\": true})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This returns extended revision information, including the availability and status\n of each revision:\n <pre>\n {\n   \"servings\":4,\n   \"subtitle\":\"Delicious with a green salad\",\n   \"_id\":\"FishStew\",\n   \"_revs_info\":[\n     {\n       \"status\":\"available\",\n       \"rev\":\"3-a1a9b39ee3cc39181b796a69cb48521c\"\n     },\n     {\n       \"status\":\"available\",\n       \"rev\":\"2-7c4740b4dcf26683e941d6641c00c39d\"\n     },\n     {\n       \"status\":\"available\",\n       \"rev\":\"1-9c65296036141e575d32ba9c034dd3ee\"\n     }\n   ],\n   \"title\":\"Irish Fish Stew\",\n   \"_rev\":\"3-a1a9b39ee3cc39181b796a69cb48521c\"\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The meaning of the additional fields is the following:\n <ul>\n   <li>_revs_info: document extended revision info</li>\n   <li>rev: revision ID</li>\n   <li>status: revision status</li>\n </ul>\n </p>\n", "summary" : "<p>  Retrieves a document from the specified database \n  This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "document-id", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A document identifier</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "The specified document" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DATABASE-NAME Invalid database name</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:DOCUMENT The specified document or revision cannot be found</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "list-databases-nondeterministic", "qname" : "cloudant:list-databases-nondeterministic", "signature" : "($connection as anyURI) as array()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns an array containing the names of all the user's databases.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#list-databases-1\">list-databases#1</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns an array containing the names of all the user's databases.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" } ], "returns" : { "type" : "array()", "description" : "An array of all the database names" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "list-databases-nondeterministic", "qname" : "cloudant:list-databases-nondeterministic", "signature" : "($connection as anyURI, $options as object()) as array()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns an array containing the names of all the user's databases.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#list-databases-2\">list-databases#2</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Returns an array containing the names of all the user's databases.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "array()", "description" : "An array of all the databases names" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "list-databases", "qname" : "cloudant:list-databases", "signature" : "($connection as anyURI) as array()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns an array containing the names of all the user's databases.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:list-databases($connection)</pre>.\n </p>\n", "summary" : "<p>  Returns an array containing the names of all the user's databases.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" } ], "returns" : { "type" : "array()", "description" : "An array of all the database names" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "list-databases", "qname" : "cloudant:list-databases", "signature" : "($connection as anyURI, $options as object()) as array()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Returns an array containing the names of all the user's databases.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>database-owner: specifies the database owner (string, default: connection user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:list-databases($connection, {\"database-owner\" : \"username\"})</pre>.\n </p>\n", "summary" : "<p>  Returns an array containing the names of all the user's databases.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "array()", "description" : "An array of all the databases names" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "lucene-query-nondeterministic", "qname" : "cloudant:lucene-query-nondeterministic", "signature" : "($connection as anyURI, $database as string, $design-document as string, $index as string, $query as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Executes a Lucene query against a view and returns the query result.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#lucene-query-5\">lucene-query#5</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Executes a Lucene query against a view and returns the query result.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "index", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An index name</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A Lucene query</div>" } ], "returns" : { "type" : "object()", "description" : "The Lucene query results" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 6, "name" : "lucene-query-nondeterministic", "qname" : "cloudant:lucene-query-nondeterministic", "signature" : "($connection as anyURI, $database as string, $design-document as string, $index as string, $query as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Executes a Lucene query against a view and returns the query result.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#lucene-query-6\">lucene-query#6</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Executes a Lucene query against a view and returns the query result.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "index", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An index name</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A Lucene query</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "The Lucene query results" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "lucene-query", "qname" : "cloudant:lucene-query", "signature" : "($connection as anyURI, $database as string, $design-document as string, $index as string, $query as string) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Executes a Lucene query against a view and returns the query result.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This method searches for documents whose index fields match the Lucene query.\n Which fields of a document are indexed and how is determined by the index functions\n in the design document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:lucene-query($connection, \"db\", \"designdoc\", \"view\", \"a*\")</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\": 3,\n   \"bookmark\": \"g1AAAACWeJzLYWBgYMpgTmFQSElKzi9KdUhJMtbLTS3KLElMT9VLzskvTUnMK9HLSy3JAalMcgCSSfX____PAvPdQHwQSGTIIt6UPBaQlgNA6j_CJPsPcJOyANNEKzY\",\n   \"rows\":\n   [\n     {\n       \"id\": \"dd828eb4-c3f1-470f-aeff-c375ef70e4ad\",\n       \"order\": [0.0, 1],\n       \"fields\":\n       {\n         \"default\": \"aa\",\n         \"foo\": 0.0\n       }\n     },\n     {\n       \"id\": \"ea522cf1-eb8e-4477-aa92-d1fa459bb216\",\n       \"order\": [1.0, 0],\n       \"fields\":\n       {\n         \"default\": \"ab\",\n         \"foo\": 1.0\n       }\n     },\n     {\n       \"id\": \"c838baed-d573-43ea-9c34-621cf0f13301\",\n       \"order\": [2.0, 0],\n       \"fields\":\n       {\n         \"default\": \"ac\",\n         \"foo\": 2.0\n       }\n     }\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>total_rows: number of results returned.</li>\n  <li>bookmark: string to be submitted in the next query to page through results.\n      If this response contained no results, the bookmark will be the same as the\n      one used to obtain this response.</li>\n  <li>rows: array of document objects, each document contains the following fields:\n    <ul>\n      <li>order: specifies the order with regard to the indexed fields.</li>\n      <li>fields: Object containing other search indexes.</li>\n    </ul>\n  </li>\n </ul>\n </p>\n", "summary" : "<p>  Executes a Lucene query against a view and returns the query result.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "index", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An index name</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A Lucene query</div>" } ], "returns" : { "type" : "object()", "description" : "The Lucene query results" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 6, "name" : "lucene-query", "qname" : "cloudant:lucene-query", "signature" : "($connection as anyURI, $database as string, $design-document as string, $index as string, $query as string, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Executes a Lucene query against a view and returns the query result.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This method searches for documents whose index fields match the Lucene query.\n Which fields of a document are indexed and how is determined by the index functions\n in the design document.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>bookmark: A bookmark that was received from a previous search. This\n   allows you to page through the results. If there are no more results after\n   the bookmark, you will get a response with an empty rows array and the\n   same bookmark. That way you can determine that you have reached the end\n   of the result list (string).</li>\n   <li>stale: allow the results from a stale view to be used (string, allowed\n   value: \"ok\").</li>\n   <li>limit: limit the number of the returned documents to the specified\n   number (numeric).</li>\n   <li>include_docs: include the full content of the documents in the return\n   (boolean, default: false).</li>\n   <li>sort: specifies the sort order of the results. A JSON string of the\n   form <code>\"fieldname&lt;type&gt;\"</code> or <code>-fieldname&lt;type&gt;</code>\n   for descending order, where fieldname is the name of a string or number field\n   and type is either number or string. The type part is optional and defaults\n   to number. Some examples are <code>\"foo\"</code>, <code>\"-foo\"</code>,\n   <code>\"bar&lt;string&gt;\"</code>, <code>\"-foo&lt;number&gt;\"</code>. String\n   fields used for sorting must not be analyzed fields. The field(s) used for\n   sorting must be indexed by the same indexer used for the search query.\n   Alternatively, a JSON array of such strings is allowed.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:lucene-query($connection, \"db\", \"designdoc\", \"view\", \"a*\",\n {\"database-owner\": \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\": 3,\n   \"bookmark\": \"g1AAAACWeJzLYWBgYMpgTmFQSElKzi9KdUhJMtbLTS3KLElMT9VLzskvTUnMK9HLSy3JAalMcgCSSfX____PAvPdQHwQSGTIIt6UPBaQlgNA6j_CJPsPcJOyANNEKzY\",\n   \"rows\":\n   [\n     {\n       \"id\": \"dd828eb4-c3f1-470f-aeff-c375ef70e4ad\",\n       \"order\": [0.0, 1],\n       \"fields\":\n       {\n         \"default\": \"aa\",\n         \"foo\": 0.0\n       }\n     },\n     {\n       \"id\": \"ea522cf1-eb8e-4477-aa92-d1fa459bb216\",\n       \"order\": [1.0, 0],\n       \"fields\":\n       {\n         \"default\": \"ab\",\n         \"foo\": 1.0\n       }\n     },\n     {\n       \"id\": \"c838baed-d573-43ea-9c34-621cf0f13301\",\n       \"order\": [2.0, 0],\n       \"fields\":\n       {\n         \"default\": \"ac\",\n         \"foo\": 2.0\n       }\n     }\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>total_rows: number of results returned.</li>\n  <li>bookmark: string to be submitted in the next query to page through results.\n      If this response contained no results, the bookmark will be the same as the\n      one used to obtain this response.</li>\n  <li>rows: array of document objects, each document contains the following fields:\n    <ul>\n      <li>order: specifies the order with regard to the indexed fields.</li>\n      <li>fields: Object containing other search indexes.</li>\n    </ul>\n  </li>\n </ul>\n </p>\n", "summary" : "<p>  Executes a Lucene query against a view and returns the query result.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "index", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An index name</div>" }, { "name" : "query", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A Lucene query</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "The Lucene query results" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "multiple-documents-nondeterministic", "qname" : "cloudant:multiple-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $keys as string*) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">List the specified documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#multiple-documents-3\">multiple-documents#3</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  List the specified documents in a given database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the specified documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "multiple-documents-nondeterministic", "qname" : "cloudant:multiple-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $keys as string*, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists the specified documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#multiple-documents-4\">multiple-documents#4</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Lists the specified documents in a given database.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the specified documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 3, "name" : "multiple-documents", "qname" : "cloudant:multiple-documents", "signature" : "($connection as anyURI, $database as string, $keys as string*) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">List the specified documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:multiple-documents($connection, \"db\",\n   (\"5a049246-179f-42ad-87ac-8f080426c17c\",\n    \"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n    \"96f898f0-f6ff-4a9b-aac4-503992f31b01\"))</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\":3,\n   \"offset\":0,\n   \"rows\":[\n   {\n     \"id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"key\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"value\":\n     {\n       \"rev\":\"2-9d5401898196997853b5ac4163857a29\"\n     }\n   },\n   {\n     \"id\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"key\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"value\":\n     {\n       \"rev\":\"2-ff7b85665c4c297838963c80ecf481a3\"\n      }\n   },\n   {\n     \"id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"key\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"value\":\n     {\n       \"rev\":\"2-cbdef49ef3ddc127eff86350844a6108\"\n     }\n   }]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision number.</li>\n  <li>total_rows: number of documents in the database.</li>\n  <li>update_seq: current update sequence database.</li>\n </ul>\n </p>\n", "summary" : "<p>  List the specified documents in a given database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the specified documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 4, "name" : "multiple-documents", "qname" : "cloudant:multiple-documents", "signature" : "($connection as anyURI, $database as string, $keys as string*, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists the specified documents in a given database.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>descending: return the documents in descending by key order (boolean,\n   default: false).</li>\n   <li>endkey: stop returning records when the specified key is reached (string).</li>\n   <li>endkey_docid: stop returning records when the specified document ID is\n   reached (string).</li>\n   <li>group: group the results using the reduce function to a group or single\n   row (boolean, default: false).</li>\n   <li>group_level: specify the group level to be used (numeric).</li>\n   <li>include_docs: include the full content of the documents in the return\n   (boolean, default: false).</li>\n   <li>inclusive_end: specifies whether the specified end key should be included\n   in the result (boolean, default: true).</li>\n   <li>key: return only documents that match the specified key (string).</li>\n   <li>limit: limit the number of the returned documents to the specified number\n   (numeric).</li>\n   <li>reduce: use the reduction function (boolean, default: true).</li>\n   <li>skip: skip this number of records before starting to return the results\n   (numeric, default: 0).</li>\n   <li>stale: allow the results from a stale view to be used (string, allowed\n   value: \"ok\").</li>\n   <li>startkey: start returning records when the specified key is reached\n   (string).</li>\n   <li>startkey_docid: start returning records when the specified document ID\n   is reached (string).</li>\n   <li>database-owner: specifies the database owner (string, default: connection\n   user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:multiple-documents($connection, \"db\",\n   (\"5a049246-179f-42ad-87ac-8f080426c17c\",\n    \"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n    \"96f898f0-f6ff-4a9b-aac4-503992f31b01\"),\n   {\"database-owner\": \"username\"})</pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\":3,\n   \"offset\":0,\n   \"rows\":[\n   {\n     \"id\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"key\":\"5a049246-179f-42ad-87ac-8f080426c17c\",\n     \"value\":\n     {\n       \"rev\":\"2-9d5401898196997853b5ac4163857a29\"\n     }\n   },\n   {\n     \"id\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"key\":\"96f898f0-f6ff-4a9b-aac4-503992f31b01\",\n     \"value\":\n     {\n       \"rev\":\"2-ff7b85665c4c297838963c80ecf481a3\"\n      }\n   },\n   {\n     \"id\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"key\":\"d1f61e66-7708-4da6-aa05-7cbc33b44b7e\",\n     \"value\":\n     {\n       \"rev\":\"2-cbdef49ef3ddc127eff86350844a6108\"\n     }\n   }]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision number.</li>\n  <li>total_rows: number of documents in the database.</li>\n  <li>update_seq: current update sequence database.</li>\n </ul>\n </p>\n", "summary" : "<p>  Lists the specified documents in a given database.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing the specified documents in the specified database" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "multiple-view-documents-nondeterministic", "qname" : "cloudant:multiple-view-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string, $keys as string*) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">List the specified documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#multiple-view-documents-5\">multiple-view-documents#5</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  List the specified documents in a given view.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all the specified documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 6, "name" : "multiple-view-documents-nondeterministic", "qname" : "cloudant:multiple-view-documents-nondeterministic", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string, $keys as string*, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists the specified documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as\n <a href=\"#multiple-view-documents-6\">multiple-view-documents#6</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Lists the specified documents in a given view.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all the specified documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 5, "name" : "multiple-view-documents", "qname" : "cloudant:multiple-view-documents", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string, $keys as string*) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">List the specified documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:multiple-view-documents($connection, \"db\", \"recipes\", \"by_ingredient\",\n (\"claret\", \"clear apple juice\"))\n </pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\" : 26484,\n   \"rows\" : [\n     {\n       \"value\" : [\"Scotch collops\"]],\n       \"id\" : \"Scotchcollops\",\n       \"key\" : \"claret\"\n     },\n     {\n       \"value\" : [\"Stand pie\"],\n       \"id\" : \"Standpie\",\n       \"key\" : \"clear apple juice\"\n     }\n   ],\n   \"offset\" : 6324\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision\n  number.</li>\n  <li>total_rows: number of documents in the database.</li>\n  <li>update_seq: current update sequence database.</li>\n </ul>\n </p>\n", "summary" : "<p>  List the specified documents in a given view.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all the specified documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 6, "name" : "multiple-view-documents", "qname" : "cloudant:multiple-view-documents", "signature" : "($connection as anyURI, $database as string, $design-document as string, $view as string, $keys as string*, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Lists the specified documents in a given view.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The information is returned as a JSON structure containing meta information\n about the return structure, and the list of documents each with its ID, revision\n and key. The key is generated from the document ID.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function allows to specify an additional options object.\n The following options are supported:\n <ul>\n   <li>descending: return the documents in descending by key order (boolean,\n   default: false).</li>\n   <li>endkey: stop returning records when the specified key is reached (string).</li>\n   <li>endkey_docid: stop returning records when the specified document ID is\n   reached (string).</li>\n   <li>group: group the results using the reduce function to a group or single\n   row (boolean, default: false).</li>\n   <li>group_level: specify the group level to be used (numeric).</li>\n   <li>include_docs: include the full content of the documents in the return\n   (boolean, default: false).</li>\n   <li>inclusive_end: specifies whether the specified end key should be included\n   in the result (boolean, default: true).</li>\n   <li>key: return only documents that match the specified key (string).</li>\n   <li>limit: limit the number of the returned documents to the specified number\n   (numeric).</li>\n   <li>reduce: use the reduction function (boolean, default: true).</li>\n   <li>skip: skip this number of records before starting to return the results\n   (numeric, default: 0).</li>\n   <li>stale: allow the results from a stale view to be used (string, allowed\n   value: \"ok\").</li>\n   <li>startkey: start returning records when the specified key is reached\n   (string).</li>\n   <li>startkey_docid: start returning records when the specified document ID\n   is reached (string).</li>\n   <li>database-owner: specifies the database owner (string, default: connection\n   user).</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For example,\n <pre>cloudant:multiple-view-documents($connection, \"db\", \"recipes\",\n   \"by_ingredient\", (\"claret\", \"clear apple juice\"),\n   {\"database-owner\": \"username\"})\n </pre>.\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An object with the following format is returned:\n <pre>\n {\n   \"total_rows\" : 26484,\n   \"rows\" : [\n     {\n       \"value\" : [\"Scotch collops\"]],\n       \"id\" : \"Scotchcollops\",\n       \"key\" : \"claret\"\n     },\n     {\n       \"value\" : [\"Stand pie\"],\n       \"id\" : \"Standpie\",\n       \"key\" : \"clear apple juice\"\n     }\n   ],\n   \"offset\" : 6324\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The fields have the following meaning:\n <ul>\n  <li>offset: offset where the document list started.</li>\n  <li>rows: array of document objects, each containing id, key and revision number.</li>\n  <li>total_rows: number of documents in the database.</li>\n  <li>update_seq: current update sequence database.</li>\n </ul>\n </p>\n", "summary" : "<p>  Lists the specified documents in a given view.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection", "type" : "anyURI", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A connection identifier</div>" }, { "name" : "database", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A database name</div>" }, { "name" : "design-document", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A design document name</div>" }, { "name" : "view", "type" : "string", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A view name</div>" }, { "name" : "keys", "type" : "string", "occurrence" : "*", "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The keys of the documents which must be retrieved</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying additional request options</div>" } ], "returns" : { "type" : "object()", "description" : "An object listing all the specified documents in the specified view" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:AUTHORIZATION Authorization error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:HTTP An HTTP error occurred when issuing the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:RESPONSE An error occurred parsing the server response</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:CONNECTION The specified connection does not exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:INTERNAL Cloudant internal error</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudant:OPTIONS Malformed options object</xqdoc:error>" ] } ], "variables" : [  ] }