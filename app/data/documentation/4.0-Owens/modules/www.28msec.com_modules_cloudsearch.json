{ "ns" : "http://www.28msec.com/modules/cloudsearch", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This module offers functionality to search, add, update and remove documents in\n an Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For each functionality two methods are provided\n <ul>\n  <li>one which accepts a single $options parameter. In this case the default\n      credentials for the \"CloudSearch\" category will be used to determine the\n      CloudSearch endpoint to use.</li>\n  <li>one which accepts both an $endpoint and an $options parameter.\n      In this case, if the $endpoint parameter is of type string, it will be\n      interpreted as the name of a credentials in the \"CloudSearch\" category.\n      Otherwise, if the $endpoint parameter is of type anyURI, it will be\n      interpreted as the endpoint URI.</li>\n </ul>\n </p>\n <h2 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" id=\"determinism\">Important Notice Regarding Function Determinism</h2>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The search functions (<a href=\"?anchor=search-1\">search#1</a> and\n <a href=\"?anchor=search-2\">search#2</a>) are declared deterministic, which means that\n their results could be cached when invoked multiple times with the same arguments\n in the same query execution.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">To not use cached results you can use two alternative search functions\n (<a href=\"?anchor=search-nondeterministic-1\">search-nondeterministic#1</a> and\n <a href=\"?anchor=search-nondeterministic-2\">search-nondeterministic#2</a>), which have\n been declared as being non deterministic.</p>\n <h2 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" id=\"search-options\">Search options</h2>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The search settings are specified by means of an object whose form\n is described in the following. The two most important fields are the\n \"q\" and \"bq\" fields. At least one of them must be specified. If the \"bq\"\n field is specified in conjunction with the \"q\" parameter, the values\n are joined with a top-level AND.\n <ul>\n   <li>bq: one or more match expressions that define a Boolean search. Multiple\n       expressions are joined with a top-level AND.\n       <p>Type: string</p>\n   </li>\n   <li>q: the string to search for. You use the q parameter to perform simple text\n       searches. This searches the default search field for the specified text.\n       <p>Type: string</p>\n   </li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Additional documentation on the format of the query and boolean query strings can\n be found at:\n <a href=\"http://docs.aws.amazon.com/cloudsearch/latest/developerguide/Search.Requests.html#Search.MatchSetExpression\">\n Expression Syntax for Boolean Queries</a>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The following additional optional parameters can be specified.\n <ul>\n   <li>facet: a comma-separated list of the fields for which you want to compute facets.\n       The specified fields must be numeric fields or defined as facet enabled in the\n       domain configuration.\n       <p>Type: string</p>\n   </li>\n   <li>facet-<i>FIELD</i>-constraints: the field values (facet constraints) that\n       you want to count for a particular field. FIELD is the name of the field.\n       Constraints are specified as a comma-separated list of ranges or\n       single-quoted strings. If you don't specify facet constraints, counts\n       are computed for all field values.\n       <p>Type: string</p>\n   </li>\n   <li>facet-<i>FIELD</i>-sort: how you want to sort facet values for a\n       particular field. FIELD is the name of the field. There are four sorting options:\n       <ul>\n         <li>alpha: Sort the facet values alphabetically (in ascending order).</li>\n         <li>count: Sort the facet values by their counts (in descending order).</li>\n         <li>max: Sort the facet values according to the maximum values in the specified\n             field. This option is specified as <code>max(FIELD)</code>. By default, the\n             facet values are sorted in ascending order. To sort in descending order,\n             prefix the sort option with - (minus): <code>-max(FIELD)</code>.\n         </li>\n         <li>sum: Sort the facet values according to the sum of the values in the\n             specified field (in ascending order). This option is specified as\n             <code>sum(FIELD)</code>.\n         </li>\n       </ul>\n   </li>\n   <li>facet-<i>FIELD</i>-top-n: set the maximum number of facet constraints to\n       be included for the specified field in the search results. By default,\n       the results include counts for the top 40 constraints.\n        <p>Type: integer</p>\n   </li>\n   <li>no-cache: if false, a cached result can be returned. If true, a revalidation of the\n        results is forced. Default is false.\n        <p>Type: boolean</p>\n   </li>\n   <li>rank: a comma-separated list of fields or rank expressions to use for ranking. A\n        maximum of 10 fields and rank expressions can be specified. You can use any uint\n        field to rank results numerically. Any result-enabled text or literal field can be\n        used to rank results alphabetically. To rank results by relevance, you can specify\n        the name of a custom rank expression or text_relevance. Hits are ordered according\n        to the specified rank field(s). By default, hits are ranked in ascending order.\n        <p>You can prefix a field name with a minus (-) to rank in descending order. If no\n        rank parameter is specified, it defaults to <code>rank=-text_relevance</code>, which\n        lists results according to their text_relevance scores with the highest-scoring\n        documents first.</p>\n       <p>Type: string</p>\n   </li>\n   <li>rank-<i>RANKNAME</i>: define a rank expression that can be used with the\n       rank parameter. You can also specify the new rank expression as a return\n       field and use it to set thresholds for the search results with the\n       t-<i>FIELD</i> parameter. For more information about constructing\n       rank expressions, see\n       <a href=\"http://docs.aws.amazon.com/cloudsearch/latest/developerguide/tuneranking.html\">\n       Customizing Result Ranking with Amazon CloudSearch</a>.\n       <p>Type: string</p>\n   </li>\n   <li>return-fields: the document fields to include in the response. Up to 2 KB\n       of data can be returned from a text field. If the field contents exceed\n       2 KB, only the first 2 KB is included in the results. Specified as a\n       comma-separated list of field names. If no return-fields are specified,\n       only the document ids of the hits are returned.\n       <p>Type: string</p>\n   </li>\n   <li>size: the maximum number of search hits to return. The default is 10.\n       <p>Type: integer</p>\n   </li>\n   <li>start: the offset of the first search hit you want to return. The default is 0\n       (the first hit).\n       <p>Type: integer</p>\n   </li>\n   <li>t-<i>FIELD</i>: restrict the match set used in subsequent post-processing\n       steps according to the specified rank expression. Only hits that have a\n       score within the specified range are included. Ranges are specified as\n       described in\n       <a href=\"http://docs.aws.amazon.com/cloudsearch/latest/developerguide/Search.Requests.html#Search.MatchSetExpression\">\n       Expression Syntax for Boolean Queries</a>.\n       <p>Type: integer</p>\n   </li>\n </ul>\n For additional details on the search parameters you can refer to the\n <a href=\"http://docs.aws.amazon.com/cloudsearch/latest/developerguide/Search.Requests.html\">\n Amazon CloudSearch search requests documentation</a>.</p>\n <h2 xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" id=\"search-results\">Search Results</h2>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the returned object is the following:\n <pre>\n {\n   \"rank\" : \"-text_relevance\",\n   \"match-expr\" : \"(label 'star wars')\",\n   \"hits\" :\n   {\n     \"found\" : 2,\n     \"start\" : 0,\n     \"hit\" :\n     [\n       {\n         \"id\" : \"tt1185834\",\n         \"data\" :\n         {\n           \"actor\" : [\"Abercrombie, Ian\",\"Baker, Dee\",\"Burton, Corey\"],\n           \"title\" : [\"Star Wars: The Clone Wars\"]\n         }\n       },\n       {\n         \"id\" :\"tt0121766\",\n         \"data\" :\n         {\n           \"actor\" : [\"Bai, Ling\",\"Bryant, Gene\",\"Castle-Hughes, Keisha\"],\n           \"title\" : [\"Star Wars: Episode III - Revenge of the Sith\"]\n         }\n       }\n     ]\n   },\n   \"info\" :\n   {\n     \"rid\" : \"b7c167f6c2da6d93531b9a7b314ad030b3a74803b4b7797edb905ba5a6a08\",\n     \"time-ms\" : 2,\n     \"cpu-time-ms\" : 0\n   }\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object fields have the following meaning:\n <ul>\n   <li>match-expr: Shows the match expression constructed from the search\n       parameters.</li>\n   <li>hits: Contains hit statistics (found, start) and a hit array that lists\n       the document ids and data for each hit.</li>\n   <li>found: The total number of hits that match the search request after\n       Amazon CloudSearch finished processing the match set.</li>\n   <li>start: The index of the first hit returned in this response.</li>\n   <li>hit: An array that lists the document ids and data for each hit.</li>\n   <li>id: The unique identifier for a document.</li>\n   <li>data: A list of returned fields.</li>\n   <li>facets: Contains facet information and facet counts.</li>\n   <li><i>FacetFieldName</i>: A field for which facets were calculated.</li>\n   <li>constraints: An array of the facet values and counts.</li>\n   <li>value: The facet value being counted.</li>\n   <li>count: The number of hits that contain the facet value in <i>FacetFieldName</i>.\n       </li>\n   <li>info: Contains information about the request processing.</li>\n   <li>rank: Lists the fields that were used to rank the search hits.</li>\n   <li>rid: The encrypted Resource ID.</li>\n   <li>time-ms: How long it took to process the search request in milliseconds.\n       </li>\n   <li>cpu-time-ms: The CPU time required to process the search request in\n       milliseconds.</li>\n   <li>messages: Contains any error messages returned by the search service.\n       The severity, code, and message properties are included for each item.</li>\n   <li>severity: The severity of the message. It is always warning, which indicates\n       a problem with the query string that did not prevent the request from being\n       processed.</li>\n   <li>code: The error code. The search service returns the following error codes:\n     <ul>\n       <li>CS-InvalidFieldOrRankAliasInRankParameter: the specified ranking field\n           could not be found.</li>\n       <li>CS-RankExpressionParseError: one of the specified rank expressions could\n           not be parsed. No query-time rank expressions will be used. </li>\n       <li>CS-RankExpressionValidationError: one of the specified rank expressions\n           could not be validated. No query-time rank expressions will be used.</li>\n       <li>CS-UndefinedField: an unknown field was specified in the match\n           expression.</li>\n       <li>CS-UnknownFieldInMatchExpression: a field specified in the bq parameter\n           could not be found.</li>\n       <li>CS-WildcardTermLimit: more than 2000 terms matched the wildcard in the\n           search request. The number of terms matched was limited to 2000.</li>\n     </ul>\n   </li>\n   <li>message: A description of the error that was returned by the search service.</li>\n </ul>\n </p>\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Federico Cavalieri</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/annotations", "prefix" : "an" }, { "uri" : "http://www.28msec.com/modules/cloudsearch", "prefix" : "cloudsearch" }, { "uri" : "http://www.28msec.com/modules/credentials", "prefix" : "credentials" }, { "uri" : "http://zorba.io/modules/http-client", "prefix" : "http" } ], "functions" : [ { "isDocumented" : true, "arity" : 1, "name" : "add-document", "qname" : "cloudsearch:add-document", "signature" : "($options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Adds or replaces a document in the default Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An add operation is applied only if a document with the same id is not\n present or if the version number specified in the operation is greater than\n the existing document's version number.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The document to add or replace is specified through an object with\n the following form:\n <pre>\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 1,\n   \"lang\" : \"en\",\n   \"fields\" :\n   {\n     \"title\" : \"The Seeker: The Dark Is Rising\",\n     \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"]\n   }\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the request object have the following meaning:\n <ul>\n   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.\n       Document IDs cannot begin with an underscore. The max length is 128\n       characters.</li>\n   <li>version: Any non-negative number less than 2^32.</li>\n   <li>lang: An ISO-639-1 two-letter language code.</li>\n   <li>fields: An object containing one or more fields. Each field specifies\n       a field within the document being added. Field names must begin with a\n       lowercase letter and can contain the following characters: a-z, 0-9,\n       and _. Field names must be at least 3 and no more than 64 characters.\n       The names \"body\", \"docid\", and \"text_relevance\" are reserved names and\n       cannot be used as field names. To specify multiple values for a field,\n       you can specify an array of values instead of a single value.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object lists all warnings that were generated.\n <pre>\n {\n   \"status\" : \"success\",\n   \"warning\" :\n   [\n     {\"message\" : \"Warning message.\"}\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the response object have the following meaning:\n <ul>\n   <li>status: the result status, always \"success\". In case an error occurred\n       processing the request, an error is raised.</li>\n   <li>warning: provides information about warnings generated during parsing\n       or validation. The field is not present if no warning were generated.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, specifying endpoint URI:\n <pre>\n cloudsearch:add-document(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 1,\n   \"lang\" : \"en\",\n   \"fields\" :\n   {\n     \"title\" : \"The Seeker: The Dark Is Rising\",\n     \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"]\n   }\n });\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using stored credentials:\n <pre>\n cloudsearch:add-document(\"movies\",\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 1,\n   \"lang\" : \"en\",\n   \"fields\" :\n   {\n     \"title\" : \"The Seeker: The Dark Is Rising\",\n     \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"]\n   }\n });\n </pre>\n </p>\n", "summary" : "<p>  Adds or replaces a document in the default Amazon CloudSearch domain.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying the request options</div>" } ], "returns" : { "type" : "object()", "description" : "The request response" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "add-document", "qname" : "cloudsearch:add-document", "signature" : "($endpoint as atomic, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Adds or replaces a document in the specified Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An add operation is applied only if a document with the same id is not\n present or if the version number specified in the operation is greater than\n the existing document's version number.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The document to add or replace is specified through an object with\n the following form:\n <pre>\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 1,\n   \"lang\" : \"en\",\n   \"fields\" :\n   {\n     \"title\" : \"The Seeker: The Dark Is Rising\",\n     \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"]\n   }\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the request object have the following meaning:\n <ul>\n   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.\n       Document IDs cannot begin with an underscore. The max length is 128\n       characters.</li>\n   <li>version: Any non-negative number less than 2^32.</li>\n   <li>lang: An ISO-639-1 two-letter language code.</li>\n   <li>fields: An object containing one or more fields. Each field specifies\n       a field within the document being added. Field names must begin with a\n       lowercase letter and can contain the following characters: a-z, 0-9,\n       and _. Field names must be at least 3 and no more than 64 characters.\n       The names \"body\", \"docid\", and \"text_relevance\" are reserved names and\n       cannot be used as field names. To specify multiple values for a field,\n       you can specify an array of values instead of a single value.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The returned object lists all warnings that were generated.\n <pre>\n {\n   \"status\" : \"success\",\n   \"warning\" :\n   [\n     {\"message\" : \"Warning message.\"}\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the response object have the following meaning:\n <ul>\n   <li>status: the result status, always \"success\". In case an error occurred\n       processing the request, an error is raised.</li>\n   <li>warning: provides information about warnings generated during parsing\n       or validation. The field is not present if no warning were generated.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, specifying endpoint URI:\n <pre>\n cloudsearch:add-document(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 1,\n   \"lang\" : \"en\",\n   \"fields\" :\n   {\n     \"title\" : \"The Seeker: The Dark Is Rising\",\n     \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"]\n   }\n });\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using stored credentials:\n <pre>\n cloudsearch:add-document(\"movies\",\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 1,\n   \"lang\" : \"en\",\n   \"fields\" :\n   {\n     \"title\" : \"The Seeker: The Dark Is Rising\",\n     \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"]\n   }\n });\n </pre>\n </p>\n", "summary" : "<p>  Adds or replaces a document in the specified Amazon CloudSearch domain.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "endpoint", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The endpoint URI or the name of a stored CloudSearch credentials</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying the request options</div>" } ], "returns" : { "type" : "object()", "description" : "The request response" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "batch-document", "qname" : "cloudsearch:batch-document", "signature" : "($options as array()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Adds, replaces or removes one or more documents from the default Amazon\n CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An add or delete operation is only applied to an existing document if the\n version number specified in the operation is greater than the existing document\n version number.\n If multiple add or delete operations for the same document are specified, the\n operation with the highest version number is applied. If multiple operations in\n a batch specify the same document and version number, the document service\n arbitrarily picks which one to apply.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The documents to add, replace or delete can be specified through an array with\n the following form:\n <pre>\n [\n   {\n     \"type\" : \"add\",\n     \"id\" :   \"tt0484562\",\n     \"version\" : 1,\n     \"lang\" : \"en\",\n     \"fields\" :\n     {\n       \"title\" : \"The Seeker: The Dark Is Rising\",\n       \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"],\n     }\n   },\n   {\n     \"type\" : \"delete\",\n     \"id\" :   \"tt0484575\",\n     \"version\" : 2\n   }\n ]\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the request array have the following meaning:\n <ul>\n   <li>type: The operation type, \"add\" or \"delete\".</li>\n   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.\n       Document IDs cannot begin with an underscore. The max length is 128\n       characters.</li>\n   <li>version: Any non-negative number less than 2^32.</li>\n   <li>lang: An ISO-639-1 two-letter language code.</li>\n   <li>fields: An object containing one or more fields. Each field specifies\n       a field within the document being added. Field names must begin with a\n       lowercase letter and can contain the following characters: a-z, 0-9,\n       and _. Field names must be at least 3 and no more than 64 characters.\n       The names \"body\", \"docid\", and \"text_relevance\" are reserved names and\n       cannot be used as field names. To specify multiple values for a field,\n       you can specify an array of values instead of a single value.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The response body lists any warning that was generated.\n <pre>\n {\n   \"status\" : \"success\",\n   \"adds\" : 1,\n   \"deletes: 1,\n   \"warning\" :\n   [\n     {\"message\" : \"Warning message.\"}\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the response object have the following meaning:\n <ul>\n   <li>status: the result status, which is either success or error.</li>\n   <li>adds: the number of add document operations that were performed.</li>\n   <li>deletes: the number of delete document operations that were performed.</li>\n   <li>warning: provides information about a warning generated during parsing\n       or validation. The field is not present if no warning was generated.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:batch-document(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n [\n   {\n     \"type\" : \"add\",\n     \"id\" :   \"tt0484562\",\n     \"version\" : 1,\n     \"lang\" : \"en\",\n     \"fields\" :\n     {\n       \"title\" : \"The Seeker: The Dark Is Rising\",\n       \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"],\n     }\n   },\n   {\n     \"type\" : \"delete\",\n     \"id\" :   \"tt0484575\",\n     \"version\" : 2\n   }\n ]);\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:batch-document(\"movies\",\n [\n   {\n     \"type\" : \"add\",\n     \"id\" :   \"tt0484562\",\n     \"version\" : 1,\n     \"lang\" : \"en\",\n     \"fields\" :\n     {\n       \"title\" : \"The Seeker: The Dark Is Rising\",\n       \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"],\n     }\n   },\n   {\n     \"type\" : \"delete\",\n     \"id\" :   \"tt0484575\",\n     \"version\" : 2\n   }\n ]);\n </pre>\n </p>\n", "summary" : "<p>  Adds, replaces or removes one or more documents from the default Amazon\n CloudSearch domain.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "options", "type" : "array()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying the request options</div>" } ], "returns" : { "type" : "object()", "description" : "The request response" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "batch-document", "qname" : "cloudsearch:batch-document", "signature" : "($endpoint as atomic, $options as array()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Adds, replaces or removes one or more documents from the specified Amazon\n CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">An add or delete operation is only applied to an existing document if the\n version number specified in the operation is greater than the existing document\n version number.\n If multiple add or delete operations for the same document are specified, the\n operation with the highest version number is applied. If multiple operations in\n a batch specify the same document and version number, the document service\n arbitrarily picks which one to apply.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The documents to add, replace or delete can be specified through an array with\n the following form:\n <pre>\n [\n   {\n     \"type\" : \"add\",\n     \"id\" :   \"tt0484562\",\n     \"version\" : 1,\n     \"lang\" : \"en\",\n     \"fields\" :\n     {\n       \"title\" : \"The Seeker: The Dark Is Rising\",\n       \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"],\n     }\n   },\n   {\n     \"type\" : \"delete\",\n     \"id\" :   \"tt0484575\",\n     \"version\" : 2\n   }\n ]\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the request array have the following meaning:\n <ul>\n   <li>type: The operation type, \"add\" or \"delete\".</li>\n   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.\n       Document IDs cannot begin with an underscore. The max length is 128\n       characters.</li>\n   <li>version: Any non-negative number less than 2^32.</li>\n   <li>lang: An ISO-639-1 two-letter language code.</li>\n   <li>fields: An object containing one or more fields. Each field specifies\n       a field within the document being added. Field names must begin with a\n       lowercase letter and can contain the following characters: a-z, 0-9,\n       and _. Field names must be at least 3 and no more than 64 characters.\n       The names \"body\", \"docid\", and \"text_relevance\" are reserved names and\n       cannot be used as field names. To specify multiple values for a field,\n       you can specify an array of values instead of a single value.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The response body lists any warning that was generated.\n <pre>\n {\n   \"status\" : \"success\",\n   \"adds\" : 1,\n   \"deletes: 1,\n   \"warning\" :\n   [\n     {\"message\" : \"Warning message.\"}\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the response object have the following meaning:\n <ul>\n   <li>status: the result status, which is either success or error.</li>\n   <li>adds: the number of add document operations that were performed.</li>\n   <li>deletes: the number of delete document operations that were performed.</li>\n   <li>warning: provides information about a warning generated during parsing\n       or validation. The field is not present if no warning was generated.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:batch-document(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n [\n   {\n     \"type\" : \"add\",\n     \"id\" :   \"tt0484562\",\n     \"version\" : 1,\n     \"lang\" : \"en\",\n     \"fields\" :\n     {\n       \"title\" : \"The Seeker: The Dark Is Rising\",\n       \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"],\n     }\n   },\n   {\n     \"type\" : \"delete\",\n     \"id\" :   \"tt0484575\",\n     \"version\" : 2\n   }\n ]);\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:batch-document(\"movies\",\n [\n   {\n     \"type\" : \"add\",\n     \"id\" :   \"tt0484562\",\n     \"version\" : 1,\n     \"lang\" : \"en\",\n     \"fields\" :\n     {\n       \"title\" : \"The Seeker: The Dark Is Rising\",\n       \"genre\" : [\"Adventure\",\"Drama\",\"Fantasy\",\"Thriller\"],\n     }\n   },\n   {\n     \"type\" : \"delete\",\n     \"id\" :   \"tt0484575\",\n     \"version\" : 2\n   }\n ]);\n </pre>\n </p>\n", "summary" : "<p>  Adds, replaces or removes one or more documents from the specified Amazon\n CloudSearch domain.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "endpoint", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The endpoint URI or the name of a stored CloudSearch credentials</div>" }, { "name" : "options", "type" : "array()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying the request options</div>" } ], "returns" : { "type" : "object()", "description" : "The request response" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "delete-document", "qname" : "cloudsearch:delete-document", "signature" : "($options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes a document from the default Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">A delete operation is only applied to an existing document if the\n version number specified in the operation is greater than the existing\n document's version number.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The document to remove is specified through an object with the\n following form:\n <pre>\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 2\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the request object have the following meaning:\n <ul>\n   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.\n       Document IDs cannot begin with an underscore. The max length is 128\n       characters.</li>\n   <li>version: Any non-negative number less than 2^32.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The response body lists any warning that was generated.\n <pre>\n {\n   \"status\" : \"success\",\n   \"warning\" :\n   [\n     {\"message\" : \"Warning message.\"}\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the response object have the following meaning:\n <ul>\n   <li>status: the result status, always \"success\". In case of errors an error is\n       raised.</li>\n   <li>warning: provides information about a warning generated during parsing or\n       validation. The field is not present if no warning was generated.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:delete-document(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 2\n });\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified stored endpoing:\n <pre>\n cloudsearch:delete-document(\"movies\",\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 2\n });\n </pre>\n </p>\n", "summary" : "<p>  Deletes a document from the default Amazon CloudSearch domain.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying the request options</div>" } ], "returns" : { "type" : "object()", "description" : "The request response" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "delete-document", "qname" : "cloudsearch:delete-document", "signature" : "($endpoint as atomic, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Deletes a document from the specified Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">A delete operation is only applied to an existing document if the\n version number specified in the operation is greater than the existing\n document's version number.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The document to remove is specified through an object with the\n following form:\n <pre>\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 2\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the request object have the following meaning:\n <ul>\n   <li>id: An alphanumeric string. Allowed characters are: a-z, 0-9, and _.\n       Document IDs cannot begin with an underscore. The max length is 128\n       characters.</li>\n   <li>version: Any non-negative number less than 2^32.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The response body lists any warning that was generated.\n <pre>\n {\n   \"status\" : \"success\",\n   \"warning\" :\n   [\n     {\"message\" : \"Warning message.\"}\n   ]\n }\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Specifically, the fields in the response object have the following meaning:\n <ul>\n   <li>status: the result status, always \"success\". In case of errors an error is\n       raised.</li>\n   <li>warning: provides information about a warning generated during parsing or\n       validation. The field is not present if no warning was generated.</li>\n </ul>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:delete-document(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 2\n });\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified stored endpoing:\n <pre>\n cloudsearch:delete-document(\"movies\",\n {\n   \"id\" : \"tt0484562\",\n   \"version\" : 2\n });\n </pre>\n </p>\n", "summary" : "<p>  Deletes a document from the specified Amazon CloudSearch domain.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "endpoint", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The endpoint URI or the name of a stored CloudSearch credentials</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> An object specifying the request options</div>" } ], "returns" : { "type" : "object()", "description" : "The request response" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESOURCES if the server storage or bandwidth resources are insufficient to execute the request</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "search-nondeterministic", "qname" : "cloudsearch:search-nondeterministic", "signature" : "($options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Searches the documents in the default Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#search-1\">search#1</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Searches the documents in the default Amazon CloudSearch domain.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The <a href=\"#search-options\">search options</a> object</div>" } ], "returns" : { "type" : "object()", "description" : "The <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"#search-results\">search results</a> object" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "search-nondeterministic", "qname" : "cloudsearch:search-nondeterministic", "signature" : "($endpoint as atomic, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Searches the documents in the specified Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function has the same semantics as <a href=\"#search-2\">search#2</a>,\n but is declared as being non deterministic and thus should only be used when\n result caching is not desired.</p>\n", "summary" : "<p>  Searches the documents in the specified Amazon CloudSearch domain.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "endpoint", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The endpoint URI or the name of a stored CloudSearch credentials</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The <a href=\"search-options\">search options</a> object</div>" } ], "returns" : { "type" : "object()", "description" : "The <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"search-results\">search results</a> object" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 1, "name" : "search", "qname" : "cloudsearch:search", "signature" : "($options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Searches the documents in the default Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the <a href=\"search-options\">search options</a> object and\n of the <a href=\"search-results\">search results</a> object is documented in\n the module introduction.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example:\n <pre>\n cloudsearch:search({\"q\" : \"star+wars\", \"return-fields\" : \"title\"})\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example returned object:\n <pre>\n {\n   \"rank\" : \"-text_relevance\",\n   \"match-expr\" : \"(label 'star wars')\",\n   \"hits\" :\n   {\n     \"found\" : 2,\n     \"start\" : 0,\n     \"hit\" :\n     [\n       {\n         \"id\" : \"tt1185834\",\n         \"data\" :\n         {\n           \"actor\" : [\"Abercrombie, Ian\",\"Baker, Dee\",\"Burton, Corey\"],\n           \"title\" : [\"Star Wars: The Clone Wars\"]\n         }\n       },\n       {\n         \"id\" :\"tt0121766\",\n         \"data\" :\n         {\n           \"actor\" : [\"Bai, Ling\",\"Bryant, Gene\",\"Castle-Hughes, Keisha\"],\n           \"title\" : [\"Star Wars: Episode III - Revenge of the Sith\"]\n         }\n       }\n     ]\n   },\n   \"info\" :\n   {\n     \"rid\" : \"b7c167f6c2da6d93531b9a7b314ad030b3a74803b4b7797edb905ba5a6a08\",\n     \"time-ms\" : 2,\n     \"cpu-time-ms\" : 0\n   }\n }\n </pre>\n </p>\n", "summary" : "<p>  Searches the documents in the default Amazon CloudSearch domain.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The <a href=\"search-options\">search options</a> object</div>" } ], "returns" : { "type" : "object()", "description" : "The <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"search-results\">search results</a> object" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the default credentials endpoint is invalid or not present</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] }, { "isDocumented" : true, "arity" : 2, "name" : "search", "qname" : "cloudsearch:search", "signature" : "($endpoint as atomic, $options as object()) as object()", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Searches the documents in the specified Amazon CloudSearch domain.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This function is declared as deterministic and should be used whenever result\n caching is acceptable.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The format of the <a href=\"search-options\">search options</a> object and\n of the <a href=\"search-results\">search results</a> object is documented in\n the module introduction.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The following examples performs a simple text search for all documents\n containing both the word \"star\" and \"trek\" and returns the matching document\n title field.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using specified endpoint URI:\n <pre>\n cloudsearch:search(\n anyURI(\"http://doc-movies-h2pc7ftfnsdlqh6pqqawbftrhu.us-east-1.cloudsearch.amazonaws.com\"),\n {\"q\" : \"star+wars\", \"return-fields\" : \"title\"})\n </pre>\n </p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Example, using a stored endpoint:\n <pre>\n cloudsearch:search(\"movies\",\n {\"q\" : \"star+wars\", \"return-fields\" : \"title\"})\n </pre>\n </p>\n", "summary" : "<p>  Searches the documents in the specified Amazon CloudSearch domain.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "endpoint", "type" : "atomic", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The endpoint URI or the name of a stored CloudSearch credentials</div>" }, { "name" : "options", "type" : "object()", "occurrence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The <a href=\"search-options\">search options</a> object</div>" } ], "returns" : { "type" : "object()", "description" : "The <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"search-results\">search results</a> object" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:ENDPOINT if the specified endpoint is invalid</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:AUTHORIZATION if the request was unauthorized</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:HTTP if an HTTP error has occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:REQUEST if the request is malformed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:INTERNAL if an internal server error occurred</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">cloudsearch:RESPONSE if the CloudSearch response cannot be parsed</xqdoc:error>" ] } ], "variables" : [  ] }